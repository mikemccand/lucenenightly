start: disk usage on /l:
+ df -h /l
Filesystem      Size  Used Avail Use% Mounted on
/dev/nvme0n1p1  880G  254G  581G  31% /
+ echo 'Run gradle test'
Run gradle test
+ /usr/bin/python3 -uO /l/util.nightly/src/python/runNightlyGradleTestPrecommit.py
***USING BIG LINE FILE***
Using java from: /usr/lib/jvm/java-24-openjdk/bin/
  gradle test log: /l/logs.nightly/ant_test/2025.05.12.lucene-tests.txt
  took: 1.9 min
  gradle precommit log: /l/logs.nightly/ant_test/2025.05.12.precommit.txt
  took: 1.1 min
+ echo 'Run lucene nightly'
Run lucene nightly
+ /usr/bin/python -uO /l/util.nightly/src/python/nightlyBench.py -run
***USING BIG LINE FILE***
Using java from: /usr/lib/jvm/java-24-openjdk/bin/
perf executable is /usr/sbin/perf; will collect aggregate CPU profiling data
GitHub pull request counts: 241 open, 2915 closed




[2025-05-12 11:33:23.200017] start
[2025-05-12 11:33:23.200129] log dir /l/logs.nightly/2025.05.12.11.33.23
openjdk full version "24.0.1"
WARNING: Using incubator modules: jdk.incubator.vector
openjdk version "24.0.1" 2025-04-15
OpenJDK Runtime Environment (build 24.0.1)
OpenJDK 64-Bit Server VM (build 24.0.1, mixed mode, sharing)
uname -a: Linux beast3.mikemccandless.com 6.14.4-arch1-2 #1 SMP PREEMPT_DYNAMIC Tue, 29 Apr 2025 09:23:13 +0000 x86_64 GNU/Linux
lsb_release -a:
LSB Version:	n/a
Distributor ID:	Arch
Description:	Arch Linux
Release:	rolling
Codename:	n/a
luceneutil rev is d615d87d19ea5f3d9cfc4959046db8ba121a7371
LUCENE rev is 92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8
last successfull Lucene rev 73aca0c6d036c8be74c7f410f84e093b96494158, luceneutil rev a75b8a4d3a8c146f3ff7e6695ab6bbf2e34e4b90
run ['git', 'log', '73aca0c6d036c8be74c7f410f84e093b96494158^..92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8']
No commit message asking for regold of results files
[2025-05-12 11:33:23.341459] RUN: git clean -xfd
Removing .gradle/
Removing build-tools/build-infra/.gradle/
Removing build-tools/build-infra/build/
Removing build-tools/missing-doclet/.gradle/
Removing build/
Removing gradle.properties
Removing gradle/wrapper/gradle-wrapper.jar
Removing lucene/analysis.tests/build/
Removing lucene/analysis/build/
Removing lucene/analysis/common/build/
Removing lucene/analysis/icu/build/
Removing lucene/analysis/kuromoji/build/
Removing lucene/analysis/morfologik.tests/build/
Removing lucene/analysis/morfologik/build/
Removing lucene/analysis/nori/build/
Removing lucene/analysis/opennlp/build/
Removing lucene/analysis/phonetic/build/
Removing lucene/analysis/smartcn/build/
Removing lucene/analysis/stempel/build/
Removing lucene/backward-codecs/build/
Removing lucene/benchmark-jmh/build/
Removing lucene/benchmark/build/
Removing lucene/build/
Removing lucene/classification/build/
Removing lucene/codecs/build/
Removing lucene/core.tests/build/
Removing lucene/core/build/
Removing lucene/demo/build/
Removing lucene/distribution.tests/build/
Removing lucene/distribution/build/
Removing lucene/documentation/build/
Removing lucene/expressions/build/
Removing lucene/facet/build/
Removing lucene/grouping/build/
Removing lucene/highlighter/build/
Removing lucene/join/build/
Removing lucene/luke/build/
Removing lucene/memory/build/
Removing lucene/misc/build/
Removing lucene/monitor/build/
Removing lucene/queries/build/
Removing lucene/queryparser/build/
Removing lucene/replicator/build/
Removing lucene/sandbox/build/
Removing lucene/spatial-extras/build/
Removing lucene/spatial-test-fixtures/build/
Removing lucene/spatial3d/build/
Removing lucene/suggest/build/
Removing lucene/test-framework/build/
[2025-05-12 11:33:23.586282]   took 0.2 sec
will NOT regold results files but rather compare to last good result files
Java command-line: /usr/lib/jvm/java-24-openjdk/bin/java --add-modules jdk.incubator.vector -Xmx32g -Xms32g -server -XX:+UseParallelGC -Djava.io.tmpdir=/l/tmp
transparent_hugepages: [always] madvise never

[2025-05-12 11:33:23.586386] RUN: /l/trunk.nightly/gradlew clean > /l/logs.nightly/2025.05.12.11.33.23/clean-lucene.log 2>&1
[2025-05-12 11:33:27.745836]   took 4.2 sec
[2025-05-12 11:33:27.745873] RUN: /l/trunk.nightly/gradlew jar > /l/logs.nightly/2025.05.12.11.33.23/jar-lucene.log 2>&1
[2025-05-12 11:33:48.556473]   took 20.8 sec

JAVA:
WARNING: Using incubator modules: jdk.incubator.vector
openjdk version "24.0.1" 2025-04-15
OpenJDK Runtime Environment (build 24.0.1)
OpenJDK 64-Bit Server VM (build 24.0.1, mixed mode, sharing)


OS:
Linux beast3.mikemccandless.com 6.14.4-arch1-2 #1 SMP PREEMPT_DYNAMIC Tue, 29 Apr 2025 09:23:13 +0000 x86_64 GNU/Linux


LOGS:
/l/logs.nightly
Using checkout:[/l/trunk.nightly] for competitor:[nightly]
compile lucene:core...
    run: ['/l/trunk.nightly/gradlew', 'lucene:core:jar'], cwd=/l/trunk.nightly
  /l/trunk.nightly/lucene/benchmark
files ['/l/util.nightly/src/main/perf/TestContext.java', '/l/util.nightly/src/main/perf/IndexAndSearchOpenStreetMaps.java', '/l/util.nightly/src/main/perf/OpenDirectory.java', '/l/util.nightly/src/main/perf/StringFieldDocSelector.java', '/l/util.nightly/src/main/perf/SearchTaxis.java', '/l/util.nightly/src/main/perf/RemoteTaskSource.java', '/l/util.nightly/src/main/perf/SearchPerfTest.java', '/l/util.nightly/src/main/perf/KeepNoCommitsDeletionPolicy.java', '/l/util.nightly/src/main/perf/DiskUsage.java', '/l/util.nightly/src/main/perf/NRTPerfTest.java', '/l/util.nightly/src/main/perf/Indexer.java', '/l/util.nightly/src/main/perf/PKLookupWithTermStateTask.java', '/l/util.nightly/src/main/perf/IndexState.java', '/l/util.nightly/src/main/perf/VectorDictionary.java', '/l/util.nightly/src/main/perf/TaskParser.java', '/l/util.nightly/src/main/perf/IndexThreads.java', '/l/util.nightly/src/main/perf/SearchTask.java', '/l/util.nightly/src/main/perf/RespellTask.java', '/l/util.nightly/src/main/perf/TaskSource.java', '/l/util.nightly/src/main/perf/LineFileDocs.java', '/l/util.nightly/src/main/perf/CreateQueries.java', '/l/util.nightly/src/main/perf/RandomQuery.java', '/l/util.nightly/src/main/perf/PerfUtils.java', '/l/util.nightly/src/main/perf/Task.java', '/l/util.nightly/src/main/perf/LocalTaskSource.java', '/l/util.nightly/src/main/perf/IndexTaxis.java', '/l/util.nightly/src/main/perf/PointsPKLookupTask.java', '/l/util.nightly/src/main/perf/TaskThreads.java', '/l/util.nightly/src/main/perf/UnparsedTask.java', '/l/util.nightly/src/main/perf/Args.java', '/l/util.nightly/src/main/perf/TaskParserFactory.java', '/l/util.nightly/src/main/perf/StatisticsHelper.java', '/l/util.nightly/src/main/perf/BenchRearranger.java', '/l/util.nightly/src/main/perf/PKLookupTask.java', '/l/util.nightly/src/main/perf/OpenCloseIndexWriter.java']
compile: /usr/lib/jvm/java-24-openjdk/bin/javac -g -d /l/util.nightly/build -classpath /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build /l/util.nightly/src/main/perf/TestContext.java /l/util.nightly/src/main/perf/IndexAndSearchOpenStreetMaps.java /l/util.nightly/src/main/perf/OpenDirectory.java /l/util.nightly/src/main/perf/StringFieldDocSelector.java /l/util.nightly/src/main/perf/SearchTaxis.java /l/util.nightly/src/main/perf/RemoteTaskSource.java /l/util.nightly/src/main/perf/SearchPerfTest.java /l/util.nightly/src/main/perf/KeepNoCommitsDeletionPolicy.java /l/util.nightly/src/main/perf/DiskUsage.java /l/util.nightly/src/main/perf/NRTPerfTest.java /l/util.nightly/src/main/perf/Indexer.java /l/util.nightly/src/main/perf/PKLookupWithTermStateTask.java /l/util.nightly/src/main/perf/IndexState.java /l/util.nightly/src/main/perf/VectorDictionary.java /l/util.nightly/src/main/perf/TaskParser.java /l/util.nightly/src/main/perf/IndexThreads.java /l/util.nightly/src/main/perf/SearchTask.java /l/util.nightly/src/main/perf/RespellTask.java /l/util.nightly/src/main/perf/TaskSource.java /l/util.nightly/src/main/perf/LineFileDocs.java /l/util.nightly/src/main/perf/CreateQueries.java /l/util.nightly/src/main/perf/RandomQuery.java /l/util.nightly/src/main/perf/PerfUtils.java /l/util.nightly/src/main/perf/Task.java /l/util.nightly/src/main/perf/LocalTaskSource.java /l/util.nightly/src/main/perf/IndexTaxis.java /l/util.nightly/src/main/perf/PointsPKLookupTask.java /l/util.nightly/src/main/perf/TaskThreads.java /l/util.nightly/src/main/perf/UnparsedTask.java /l/util.nightly/src/main/perf/Args.java /l/util.nightly/src/main/perf/TaskParserFactory.java /l/util.nightly/src/main/perf/StatisticsHelper.java /l/util.nightly/src/main/perf/BenchRearranger.java /l/util.nightly/src/main/perf/PKLookupTask.java /l/util.nightly/src/main/perf/OpenCloseIndexWriter.java
    run: ['/usr/lib/jvm/java-24-openjdk/bin/javac', '-g', '-d', '/l/util.nightly/build', '-classpath', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build', '/l/util.nightly/src/main/perf/TestContext.java', '/l/util.nightly/src/main/perf/IndexAndSearchOpenStreetMaps.java', '/l/util.nightly/src/main/perf/OpenDirectory.java', '/l/util.nightly/src/main/perf/StringFieldDocSelector.java', '/l/util.nightly/src/main/perf/SearchTaxis.java', '/l/util.nightly/src/main/perf/RemoteTaskSource.java', '/l/util.nightly/src/main/perf/SearchPerfTest.java', '/l/util.nightly/src/main/perf/KeepNoCommitsDeletionPolicy.java', '/l/util.nightly/src/main/perf/DiskUsage.java', '/l/util.nightly/src/main/perf/NRTPerfTest.java', '/l/util.nightly/src/main/perf/Indexer.java', '/l/util.nightly/src/main/perf/PKLookupWithTermStateTask.java', '/l/util.nightly/src/main/perf/IndexState.java', '/l/util.nightly/src/main/perf/VectorDictionary.java', '/l/util.nightly/src/main/perf/TaskParser.java', '/l/util.nightly/src/main/perf/IndexThreads.java', '/l/util.nightly/src/main/perf/SearchTask.java', '/l/util.nightly/src/main/perf/RespellTask.java', '/l/util.nightly/src/main/perf/TaskSource.java', '/l/util.nightly/src/main/perf/LineFileDocs.java', '/l/util.nightly/src/main/perf/CreateQueries.java', '/l/util.nightly/src/main/perf/RandomQuery.java', '/l/util.nightly/src/main/perf/PerfUtils.java', '/l/util.nightly/src/main/perf/Task.java', '/l/util.nightly/src/main/perf/LocalTaskSource.java', '/l/util.nightly/src/main/perf/IndexTaxis.java', '/l/util.nightly/src/main/perf/PointsPKLookupTask.java', '/l/util.nightly/src/main/perf/TaskThreads.java', '/l/util.nightly/src/main/perf/UnparsedTask.java', '/l/util.nightly/src/main/perf/Args.java', '/l/util.nightly/src/main/perf/TaskParserFactory.java', '/l/util.nightly/src/main/perf/StatisticsHelper.java', '/l/util.nightly/src/main/perf/BenchRearranger.java', '/l/util.nightly/src/main/perf/PKLookupTask.java', '/l/util.nightly/src/main/perf/OpenCloseIndexWriter.java'], cwd=/l/trunk.nightly/lucene/benchmark
[2025-05-12 11:33:52.371831] now run stored fields benchmark
RUN: javac -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar -d build src/extra/perf/StoredFieldsBenchmark.java, cwd=/l/util.nightly
Now run BEST_SPEED with doc_limit=-1:
RUN: /usr/lib/jvm/java-24-openjdk/bin/java --add-modules jdk.incubator.vector -Xmx32g -Xms32g -server -XX:+UseParallelGC -Djava.io.tmpdir=/l/tmp -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:build perf.StoredFieldsBenchmark /lucenedata/geonames/geonames.20160818.csv /l/indices/geonames-stored-fields BEST_SPEED -1
Mode: BEST_SPEED
  indexing_time_msec: 144876.00
  stored_field_size_mb: 624.75
  retrieved_time_msec: 169.92
Now run BEST_COMPRESSION with doc_limit=-1:
RUN: /usr/lib/jvm/java-24-openjdk/bin/java --add-modules jdk.incubator.vector -Xmx32g -Xms32g -server -XX:+UseParallelGC -Djava.io.tmpdir=/l/tmp -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:build perf.StoredFieldsBenchmark /lucenedata/geonames/geonames.20160818.csv /l/indices/geonames-stored-fields BEST_COMPRESSION -1
Mode: BEST_COMPRESSION
  indexing_time_msec: 355048.00
  stored_field_size_mb: 386.25
  retrieved_time_msec: 1399.69
Done: took 1036.08 seconds, saved to /l/logs.nightly/2025.05.12.11.33.23/geonames-stored-fields-benchmark-results.pk
[2025-05-12 11:51:08.964415] done run stored fields benchmark
[2025-05-12 11:51:08.964435] now run NAD facets benchmark
RUN: /usr/lib/jvm/java-24-openjdk/bin/javac -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/facet/build/libs/lucene-facet-11.0.0-SNAPSHOT.jar:build -d build src/main/perf/facets/IndexFacets.java, cwd=/l/util.nightly
RUN: /usr/lib/jvm/java-24-openjdk/bin/javac -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/facet/build/libs/lucene-facet-11.0.0-SNAPSHOT.jar:build -d build src/main/perf/facets/BenchmarkFacets.java, cwd=/l/util.nightly
Note: src/main/perf/facets/BenchmarkFacets.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
RUN: /usr/lib/jvm/java-24-openjdk/bin/java --add-modules jdk.incubator.vector -Xmx32g -Xms32g -server -XX:+UseParallelGC -Djava.io.tmpdir=/l/tmp -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/facet/build/libs/lucene-facet-11.0.0-SNAPSHOT.jar:build perf.facets.IndexFacets /l/data/NAD_taxonomy.txt.gz /l/indices/nad-facets-nightly -1, cwd=/l/util.nightly
Indexing documents...

WARNING: Using incubator modules: jdk.incubator.vector
May 12, 2025 11:51:10 AM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
Indexed 0 documents
Indexed 100000 documents
Indexed 200000 documents
Indexed 300000 documents
Indexed 400000 documents
Indexed 500000 documents
Indexed 600000 documents
Indexed 700000 documents
Indexed 800000 documents
Indexed 900000 documents
Indexed 1000000 documents
Indexed 1100000 documents
Indexed 1200000 documents
Indexed 1300000 documents
Indexed 1400000 documents
Indexed 1500000 documents
Indexed 1600000 documents
Indexed 1700000 documents
Indexed 1800000 documents
Indexed 1900000 documents
Indexed 2000000 documents
Indexed 2100000 documents
Indexed 2200000 documents
Indexed 2300000 documents
Indexed 2400000 documents
Indexed 2500000 documents
Indexed 2600000 documents
Indexed 2700000 documents
Indexed 2800000 documents
Indexed 2900000 documents
Indexed 3000000 documents
Indexed 3100000 documents
Indexed 3200000 documents
Indexed 3300000 documents
Indexed 3400000 documents
Indexed 3500000 documents
Indexed 3600000 documents
Indexed 3700000 documents
Indexed 3800000 documents
Indexed 3900000 documents
Indexed 4000000 documents
Indexed 4100000 documents
Indexed 4200000 documents
Indexed 4300000 documents
Indexed 4400000 documents
Indexed 4500000 documents
Indexed 4600000 documents
Indexed 4700000 documents
Indexed 4800000 documents
Indexed 4900000 documents
Indexed 5000000 documents
Indexed 5100000 documents
Indexed 5200000 documents
Indexed 5300000 documents
Indexed 5400000 documents
Indexed 5500000 documents
Indexed 5600000 documents
Indexed 5700000 documents
Indexed 5800000 documents
Indexed 5900000 documents
Indexed 6000000 documents
Indexed 6100000 documents
Indexed 6200000 documents
Indexed 6300000 documents
Indexed 6400000 documents
Indexed 6500000 documents
Indexed 6600000 documents
Indexed 6700000 documents
Indexed 6800000 documents
Indexed 6900000 documents
Indexed 7000000 documents
Indexed 7100000 documents
Indexed 7200000 documents
Indexed 7300000 documents
Indexed 7400000 documents
Indexed 7500000 documents
Indexed 7600000 documents
Indexed 7700000 documents
Indexed 7800000 documents
Indexed 7900000 documents
Indexed 8000000 documents
Indexed 8100000 documents
Indexed 8200000 documents
Indexed 8300000 documents
Indexed 8400000 documents
Indexed 8500000 documents
Indexed 8600000 documents
Indexed 8700000 documents
Indexed 8800000 documents
Indexed 8900000 documents
Indexed 9000000 documents
Indexed 9100000 documents
Indexed 9200000 documents
Indexed 9300000 documents
Indexed 9400000 documents
Indexed 9500000 documents
Indexed 9600000 documents
Indexed 9700000 documents
Indexed 9800000 documents
Indexed 9900000 documents
Indexed 10000000 documents
Indexed 10100000 documents
Indexed 10200000 documents
Indexed 10300000 documents
Indexed 10400000 documents
Indexed 10500000 documents
Indexed 10600000 documents
Indexed 10700000 documents
Indexed 10800000 documents
Indexed 10900000 documents
Indexed 11000000 documents
Indexed 11100000 documents
Indexed 11200000 documents
Indexed 11300000 documents
Indexed 11400000 documents
Indexed 11500000 documents
Indexed 11600000 documents
Indexed 11700000 documents
Indexed 11800000 documents
Indexed 11900000 documents
Indexed 12000000 documents
Indexed 12100000 documents
Indexed 12200000 documents
Indexed 12300000 documents
Indexed 12400000 documents
Indexed 12500000 documents
Indexed 12600000 documents
Indexed 12700000 documents
Indexed 12800000 documents
Indexed 12900000 documents
Indexed 13000000 documents
Indexed 13100000 documents
Indexed 13200000 documents
Indexed 13300000 documents
Indexed 13400000 documents
Indexed 13500000 documents
Indexed 13600000 documents
Indexed 13700000 documents
Indexed 13800000 documents
Indexed 13900000 documents
Indexed 14000000 documents
Indexed 14100000 documents
Indexed 14200000 documents
Indexed 14300000 documents
Indexed 14400000 documents
Indexed 14500000 documents
Indexed 14600000 documents
Indexed 14700000 documents
Indexed 14800000 documents
Indexed 14900000 documents
Indexed 15000000 documents
Indexed 15100000 documents
Indexed 15200000 documents
Indexed 15300000 documents
Indexed 15400000 documents
Indexed 15500000 documents
Indexed 15600000 documents
Indexed 15700000 documents
Indexed 15800000 documents
Indexed 15900000 documents
Indexed 16000000 documents
Indexed 16100000 documents
Indexed 16200000 documents
Indexed 16300000 documents
Indexed 16400000 documents
Indexed 16500000 documents
Indexed 16600000 documents
Indexed 16700000 documents
Indexed 16800000 documents
Indexed 16900000 documents
Indexed 17000000 documents
Indexed 17100000 documents
Indexed 17200000 documents
Indexed 17300000 documents
Indexed 17400000 documents
Indexed 17500000 documents
Indexed 17600000 documents
Indexed 17700000 documents
Indexed 17800000 documents
Indexed 17900000 documents
Indexed 18000000 documents
Indexed 18100000 documents
Indexed 18200000 documents
Indexed 18300000 documents
Indexed 18400000 documents
Indexed 18500000 documents
Indexed 18600000 documents
Indexed 18700000 documents
Indexed 18800000 documents
Indexed 18900000 documents
Indexed 19000000 documents
Indexed 19100000 documents
Indexed 19200000 documents
Indexed 19300000 documents
Indexed 19400000 documents
Indexed 19500000 documents
Indexed 19600000 documents
Indexed 19700000 documents
Indexed 19800000 documents
Indexed 19900000 documents
Indexed 20000000 documents
Indexed 20100000 documents
Indexed 20200000 documents
Indexed 20300000 documents
Indexed 20400000 documents
Indexed 20500000 documents
Indexed 20600000 documents
Indexed 20700000 documents
Indexed 20800000 documents
Indexed 20900000 documents
Indexed 21000000 documents
Indexed 21100000 documents
Indexed 21200000 documents
Indexed 21300000 documents
Indexed 21400000 documents
Indexed 21500000 documents
Indexed 21600000 documents
Indexed 21700000 documents
Indexed 21800000 documents
Indexed 21900000 documents
Indexed 22000000 documents
Indexed 22100000 documents
Indexed 22200000 documents
Indexed 22300000 documents
Indexed 22400000 documents
Indexed 22500000 documents
Indexed 22600000 documents
Indexed 22700000 documents
Indexed 22800000 documents
Indexed 22900000 documents
Indexed 23000000 documents
Indexed 23100000 documents
Indexed 23200000 documents
Indexed 23300000 documents
Indexed 23400000 documents
Indexed 23500000 documents
Indexed 23600000 documents
Indexed 23700000 documents
Indexed 23800000 documents
Indexed 23900000 documents
Indexed 24000000 documents
Indexed 24100000 documents
Indexed 24200000 documents
Indexed 24300000 documents
Indexed 24400000 documents
Indexed 24500000 documents
Indexed 24600000 documents
Indexed 24700000 documents
Indexed 24800000 documents
Indexed 24900000 documents
Indexed 25000000 documents
Indexed 25100000 documents
Indexed 25200000 documents
Indexed 25300000 documents
Indexed 25400000 documents
Indexed 25500000 documents
Indexed 25600000 documents
Indexed 25700000 documents
Indexed 25800000 documents
Indexed 25900000 documents
Indexed 26000000 documents
Indexed 26100000 documents
Indexed 26200000 documents
Indexed 26300000 documents
Indexed 26400000 documents
Indexed 26500000 documents
Indexed 26600000 documents
Indexed 26700000 documents
Indexed 26800000 documents
Indexed 26900000 documents
Indexed 27000000 documents
Indexed 27100000 documents
Indexed 27200000 documents
Indexed 27300000 documents
Indexed 27400000 documents
Indexed 27500000 documents
Indexed 27600000 documents
Indexed 27700000 documents
Indexed 27800000 documents
Indexed 27900000 documents
Indexed 28000000 documents
Indexed 28100000 documents
Indexed 28200000 documents
Indexed 28300000 documents
Indexed 28400000 documents
Indexed 28500000 documents
Indexed 28600000 documents
Indexed 28700000 documents
Indexed 28800000 documents
Indexed 28900000 documents
Indexed 29000000 documents
Indexed 29100000 documents
Indexed 29200000 documents
Indexed 29300000 documents
Indexed 29400000 documents
Indexed 29500000 documents
Indexed 29600000 documents
Indexed 29700000 documents
Indexed 29800000 documents
Indexed 29900000 documents
Indexed 30000000 documents
Indexed 30100000 documents
Indexed 30200000 documents
Indexed 30300000 documents
Indexed 30400000 documents
Indexed 30500000 documents
Indexed 30600000 documents
Indexed 30700000 documents
Indexed 30800000 documents
Indexed 30900000 documents
Indexed 31000000 documents
Indexed 31100000 documents
Indexed 31200000 documents
Indexed 31300000 documents
Indexed 31400000 documents
Indexed 31500000 documents
Indexed 31600000 documents
Indexed 31700000 documents
Indexed 31800000 documents
Indexed 31900000 documents
Indexed 32000000 documents
Indexed 32100000 documents
Indexed 32200000 documents
Indexed 32300000 documents
Indexed 32400000 documents
Indexed 32500000 documents
Indexed 32600000 documents
Indexed 32700000 documents
Indexed 32800000 documents
Indexed 32900000 documents
Indexed 33000000 documents
Indexed 33100000 documents
Indexed 33200000 documents
Indexed 33300000 documents
Indexed 33400000 documents
Indexed 33500000 documents
Indexed 33600000 documents
Indexed 33700000 documents
Indexed 33800000 documents
Indexed 33900000 documents
Indexed 34000000 documents
Indexed 34100000 documents
Indexed 34200000 documents
Indexed 34300000 documents
Indexed 34400000 documents
Indexed 34500000 documents
Indexed 34600000 documents
Indexed 34700000 documents
Indexed 34800000 documents
Indexed 34900000 documents
Indexed 35000000 documents
Indexed 35100000 documents
Indexed 35200000 documents
Indexed 35300000 documents
Indexed 35400000 documents
Indexed 35500000 documents
Indexed 35600000 documents
Indexed 35700000 documents
Indexed 35800000 documents
Indexed 35900000 documents
Indexed 36000000 documents
Indexed 36100000 documents
Indexed 36200000 documents
Indexed 36300000 documents
Indexed 36400000 documents
Indexed 36500000 documents
Indexed 36600000 documents
Indexed 36700000 documents
Indexed 36800000 documents
Indexed 36900000 documents
Indexed 37000000 documents
Indexed 37100000 documents
Indexed 37200000 documents
Indexed 37300000 documents
Indexed 37400000 documents
Indexed 37500000 documents
Indexed 37600000 documents
Indexed 37700000 documents
Indexed 37800000 documents
Indexed 37900000 documents
Indexed 38000000 documents
Indexed 38100000 documents
Indexed 38200000 documents
Indexed 38300000 documents
Indexed 38400000 documents
Indexed 38500000 documents
Indexed 38600000 documents
Indexed 38700000 documents
Indexed 38800000 documents
Indexed 38900000 documents
Indexed 39000000 documents
Indexed 39100000 documents
Indexed 39200000 documents
Indexed 39300000 documents
Indexed 39400000 documents
Indexed 39500000 documents
Indexed 39600000 documents
Indexed 39700000 documents
Indexed 39800000 documents
Indexed 39900000 documents
Indexed 40000000 documents
Indexed 40100000 documents
Indexed 40200000 documents
Indexed 40300000 documents
Indexed 40400000 documents
Indexed 40500000 documents
Indexed 40600000 documents
Indexed 40700000 documents
Indexed 40800000 documents
Indexed 40900000 documents
Indexed 41000000 documents
Indexed 41100000 documents
Indexed 41200000 documents
Indexed 41300000 documents
Indexed 41400000 documents
Indexed 41500000 documents
Indexed 41600000 documents
Indexed 41700000 documents
Indexed 41800000 documents
Indexed 41900000 documents
Indexed 42000000 documents
Indexed 42100000 documents
Indexed 42200000 documents
Indexed 42300000 documents
Indexed 42400000 documents
Indexed 42500000 documents
Indexed 42600000 documents
Indexed 42700000 documents
Indexed 42800000 documents
Indexed 42900000 documents
Indexed 43000000 documents
Indexed 43100000 documents
Indexed 43200000 documents
Indexed 43300000 documents
Indexed 43400000 documents
Indexed 43500000 documents
Indexed 43600000 documents
Indexed 43700000 documents
Indexed 43800000 documents
Indexed 43900000 documents
Indexed 44000000 documents
Indexed 44100000 documents
Indexed 44200000 documents
Indexed 44300000 documents
Indexed 44400000 documents
Indexed 44500000 documents
Indexed 44600000 documents
Indexed 44700000 documents
Indexed 44800000 documents
Indexed 44900000 documents
Indexed 45000000 documents
Indexed 45100000 documents
Indexed 45200000 documents
Indexed 45300000 documents
Indexed 45400000 documents
Indexed 45500000 documents
Indexed 45600000 documents
Indexed 45700000 documents
Indexed 45800000 documents
Indexed 45900000 documents
Indexed 46000000 documents
Indexed 46100000 documents
Indexed 46200000 documents
Indexed 46300000 documents
Indexed 46400000 documents
Indexed 46500000 documents
Indexed 46600000 documents
Indexed 46700000 documents
Indexed 46800000 documents
Indexed 46900000 documents
Indexed 47000000 documents
Indexed 47100000 documents
Indexed 47200000 documents
Indexed 47300000 documents
Indexed 47400000 documents
Indexed 47500000 documents
Indexed 47600000 documents
Indexed 47700000 documents
Indexed 47800000 documents
Indexed 47900000 documents
Indexed 48000000 documents
Indexed 48100000 documents
Indexed 48200000 documents
Indexed 48300000 documents
Indexed 48400000 documents
Indexed 48500000 documents
Indexed 48600000 documents
Indexed 48700000 documents
Indexed 48800000 documents
Indexed 48900000 documents
Indexed 49000000 documents
Indexed 49100000 documents
Indexed 49200000 documents
Indexed 49300000 documents
Indexed 49400000 documents
Indexed 49500000 documents
Indexed 49600000 documents
Indexed 49700000 documents
Indexed 49800000 documents
Indexed 49900000 documents
Indexed 50000000 documents
Indexed 50100000 documents
Indexed 50200000 documents
Indexed 50300000 documents
Indexed 50400000 documents
Indexed 50500000 documents
Indexed 50600000 documents
Indexed 50700000 documents
Indexed 50800000 documents
Indexed 50900000 documents
Indexed 51000000 documents
Indexed 51100000 documents
Indexed 51200000 documents
Indexed 51300000 documents
Indexed 51400000 documents
Indexed 51500000 documents
Indexed 51600000 documents
Indexed 51700000 documents
Indexed 51800000 documents
Indexed 51900000 documents
Indexed 52000000 documents
Indexed 52100000 documents
Indexed 52200000 documents
Indexed 52300000 documents
Indexed 52400000 documents
Indexed 52500000 documents
Indexed 52600000 documents
Indexed 52700000 documents
Indexed 52800000 documents
Indexed 52900000 documents
Indexed 53000000 documents
Indexed 53100000 documents
Indexed 53200000 documents
Indexed 53300000 documents
Indexed 53400000 documents
Indexed 53500000 documents
Indexed 53600000 documents
Indexed 53700000 documents
Indexed 53800000 documents
Indexed 53900000 documents
Indexed 54000000 documents
Indexed 54100000 documents
Indexed 54200000 documents
Indexed 54300000 documents
Indexed 54400000 documents
Indexed 54500000 documents
Indexed 54600000 documents
Indexed 54700000 documents
Indexed 54800000 documents
Indexed 54900000 documents
Indexed 55000000 documents
Indexed 55100000 documents
Indexed 55200000 documents
Indexed 55300000 documents
Indexed 55400000 documents
Indexed 55500000 documents
Indexed 55600000 documents
Indexed 55700000 documents
Indexed 55800000 documents
Indexed 55900000 documents
Indexed 56000000 documents
Indexed 56100000 documents
Indexed 56200000 documents
Indexed 56300000 documents
Indexed 56400000 documents
Indexed 56500000 documents
Indexed 56600000 documents
Indexed 56700000 documents
Indexed 56800000 documents
Indexed 56900000 documents
Indexed 57000000 documents
Indexed 57100000 documents
Indexed 57200000 documents
Indexed 57300000 documents
Indexed 57400000 documents
Indexed 57500000 documents
Indexed 57600000 documents
Indexed 57700000 documents
Indexed 57800000 documents
Indexed 57900000 documents
Indexed 58000000 documents
Indexed 58100000 documents
Indexed 58200000 documents
Indexed 58300000 documents
Indexed 58400000 documents
Indexed 58500000 documents
Indexed 58600000 documents
Indexed 58700000 documents
Indexed 58800000 documents
Indexed 58900000 documents
Indexed 59000000 documents
Indexed 59100000 documents
Indexed 59200000 documents
Indexed 59300000 documents
Indexed 59400000 documents
Indexed 59500000 documents
Indexed 59600000 documents
Indexed 59700000 documents
Indexed 59800000 documents
Indexed 59900000 documents
RUN: /usr/lib/jvm/java-24-openjdk/bin/java --add-modules jdk.incubator.vector -Xmx32g -Xms32g -server -XX:+UseParallelGC -Djava.io.tmpdir=/l/tmp -cp /l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/facet/build/libs/lucene-facet-11.0.0-SNAPSHOT.jar:build perf.facets.BenchmarkFacets /l/indices/nad-facets-nightly 30, cwd=/l/util.nightly
Total time creating FastTaxonomyCounts: 1523.8058857666665 ms
Total time creating SSDVFacetCounts: 3130.6575497333333 ms
Total time taken to get all dims for taxonomy: 0.1806591333333333 ms
Total time taken to get all dims for SSDV: 0.05798373333333333 ms
Total time to get top dims for taxonomy: 0.05135089999999999 ms
Total time to get top dims for SSDV: 0.02905206666666666 ms
Total time to get top "address.taxonomy/TX" children: 0.12891183333333334 ms
Total time to get top "address.sortedset/TX" children: 0.1624917 ms
Total time to get all "address.taxonomy/TX" children: 0.6599818333333333 ms
Total time to get all "address.sortedset/TX" children: 0.5788280333333332 ms
Done: took 3757.37 seconds, saved to /l/logs.nightly/2025.05.12.11.33.23/nad-facet-benchmark.pk
[2025-05-12 12:53:46.335889] done run NAD facets benchmark
[2025-05-12 12:53:47.062856] now run KNN benchmark
Lucene HEAD git revision at /l/trunk.nightly: 92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8 dirty?=False
luceneutil HEAD git revision at /l/util.nightly: d615d87d19ea5f3d9cfc4959046db8ba121a7371 dirty?=False
removing cached KNN results /l/util.nightly/nn--xx4srw.bin
removing cached KNN results /l/util.nightly/nn--3v9kpw.bin
removing cached KNN results /l/util.nightly/nn--hp5kni.bin
compile Lucene jars at /l/trunk.nightly
Starting a Gradle Daemon (subsequent builds will be faster)
> Task :build-infra:compileJava UP-TO-DATE
> Task :build-infra:pluginDescriptors UP-TO-DATE
> Task :build-infra:processResources UP-TO-DATE
> Task :build-infra:classes UP-TO-DATE
> Task :build-infra:jar UP-TO-DATE
> Task :lucene:spatial3d:processResources NO-SOURCE
> Task :lucene:analysis.tests:processResources NO-SOURCE
> Task :lucene:memory:processResources NO-SOURCE
> Task :lucene:queries:processResources NO-SOURCE
> Task :lucene:spatial-extras:processResources NO-SOURCE
> Task :lucene:highlighter:processResources NO-SOURCE
> Task :lucene:facet:processResources NO-SOURCE
> Task :lucene:sandbox:processResources UP-TO-DATE
> Task :lucene:backward-codecs:processResources UP-TO-DATE
> Task :lucene:queryparser:processResources UP-TO-DATE
> Task :lucene:benchmark:processResources NO-SOURCE
> Task :lucene:grouping:processResources NO-SOURCE
> Task :lucene:benchmark-jmh:processResources NO-SOURCE
> Task :lucene:core:processResources UP-TO-DATE
> Task :lucene:core.tests:processResources NO-SOURCE
> Task :lucene:codecs:processResources UP-TO-DATE
> Task :lucene:expressions:processResources UP-TO-DATE
> Task :lucene:classification:processResources NO-SOURCE
> Task :lucene:demo:processResources NO-SOURCE
> Task :lucene:join:processResources NO-SOURCE
> Task :lucene:core:processMain24Resources NO-SOURCE
> Task :lucene:suggest:processResources UP-TO-DATE
> Task :lucene:analysis:morfologik:processResources UP-TO-DATE
> Task :lucene:analysis:kuromoji:processResources UP-TO-DATE
> Task :lucene:misc:processResources NO-SOURCE
> Task :lucene:distribution.tests:processResources NO-SOURCE
> Task :lucene:analysis:phonetic:processResources UP-TO-DATE
> Task :lucene:analysis:nori:processResources UP-TO-DATE
> Task :lucene:monitor:processResources NO-SOURCE
> Task :lucene:analysis:smartcn:processResources UP-TO-DATE
> Task :lucene:analysis:opennlp:processResources UP-TO-DATE
> Task :lucene:spatial-test-fixtures:processResources NO-SOURCE
> Task :lucene:analysis:morfologik.tests:processResources NO-SOURCE
> Task :lucene:analysis:common:processResources UP-TO-DATE
> Task :lucene:analysis:icu:processResources UP-TO-DATE
> Task :lucene:replicator:processResources NO-SOURCE
> Task :lucene:analysis:stempel:processResources UP-TO-DATE
> Task :lucene:luke:processResources UP-TO-DATE
> Task :lucene:test-framework:processResources UP-TO-DATE
> Task :gitStatus

> Task :errorProneSkipped
WARNING: errorprone disabled (skipped on builds not running inside CI environments, pass -Pvalidation.errorprone=true to enable)

> Task :lucene:analysis.tests:compileJava NO-SOURCE
> Task :lucene:analysis.tests:classes UP-TO-DATE
> Task :lucene:analysis.tests:jar UP-TO-DATE
> Task :lucene:analysis:morfologik.tests:compileJava NO-SOURCE
> Task :lucene:distribution.tests:compileJava NO-SOURCE
> Task :lucene:analysis:morfologik.tests:classes UP-TO-DATE
> Task :lucene:distribution.tests:classes UP-TO-DATE
> Task :lucene:distribution.tests:jar UP-TO-DATE
> Task :lucene:analysis:morfologik.tests:jar UP-TO-DATE
> Task :lucene:core.tests:compileJava UP-TO-DATE
> Task :lucene:core.tests:classes UP-TO-DATE
> Task :lucene:core:compileJava UP-TO-DATE
> Task :lucene:core:classes UP-TO-DATE
> Task :lucene:core.tests:jar UP-TO-DATE
> Task :lucene:core:compileMain24Java UP-TO-DATE
> Task :lucene:core:main24Classes UP-TO-DATE
> Task :lucene:core:jar UP-TO-DATE
> Task :lucene:memory:compileJava UP-TO-DATE
> Task :lucene:memory:classes UP-TO-DATE
> Task :lucene:join:compileJava UP-TO-DATE
> Task :lucene:join:classes UP-TO-DATE
> Task :lucene:misc:compileJava UP-TO-DATE
> Task :lucene:misc:classes UP-TO-DATE
> Task :lucene:replicator:compileJava UP-TO-DATE
> Task :lucene:replicator:classes UP-TO-DATE
> Task :lucene:queries:compileJava UP-TO-DATE
> Task :lucene:queries:classes UP-TO-DATE
> Task :lucene:backward-codecs:compileJava UP-TO-DATE
> Task :lucene:join:jar UP-TO-DATE
> Task :lucene:backward-codecs:classes UP-TO-DATE
> Task :lucene:queries:jar UP-TO-DATE
> Task :lucene:replicator:jar UP-TO-DATE
> Task :lucene:memory:jar UP-TO-DATE
> Task :lucene:spatial3d:compileJava UP-TO-DATE
> Task :lucene:facet:compileJava UP-TO-DATE
> Task :lucene:misc:jar UP-TO-DATE
> Task :lucene:codecs:compileJava UP-TO-DATE
> Task :lucene:spatial3d:classes UP-TO-DATE
> Task :lucene:facet:classes UP-TO-DATE
> Task :lucene:codecs:classes UP-TO-DATE
> Task :lucene:backward-codecs:jar UP-TO-DATE
> Task :lucene:grouping:compileJava UP-TO-DATE
> Task :lucene:grouping:classes UP-TO-DATE
> Task :lucene:analysis:common:compileJava UP-TO-DATE
> Task :lucene:analysis:common:classes UP-TO-DATE
> Task :lucene:facet:jar UP-TO-DATE
> Task :lucene:analysis:common:jar UP-TO-DATE
> Task :lucene:codecs:jar UP-TO-DATE
> Task :lucene:spatial3d:jar UP-TO-DATE
> Task :lucene:grouping:jar UP-TO-DATE
> Task :lucene:highlighter:compileJava UP-TO-DATE
> Task :lucene:highlighter:classes UP-TO-DATE
> Task :lucene:analysis:kuromoji:compileJava UP-TO-DATE
> Task :lucene:analysis:kuromoji:classes UP-TO-DATE
> Task :lucene:classification:compileJava UP-TO-DATE
> Task :lucene:analysis:nori:compileJava UP-TO-DATE
> Task :lucene:classification:classes UP-TO-DATE
> Task :lucene:analysis:nori:classes UP-TO-DATE
> Task :lucene:analysis:phonetic:compileJava UP-TO-DATE
> Task :lucene:analysis:phonetic:classes UP-TO-DATE
> Task :lucene:highlighter:jar UP-TO-DATE
> Task :lucene:analysis:opennlp:compileJava UP-TO-DATE
> Task :lucene:suggest:compileJava UP-TO-DATE
> Task :lucene:sandbox:compileJava UP-TO-DATE
> Task :lucene:analysis:icu:compileJava UP-TO-DATE
> Task :lucene:analysis:kuromoji:jar UP-TO-DATE
> Task :lucene:sandbox:classes UP-TO-DATE
> Task :lucene:analysis:opennlp:classes UP-TO-DATE
> Task :lucene:suggest:classes UP-TO-DATE
> Task :lucene:expressions:compileJava UP-TO-DATE
> Task :lucene:analysis:icu:classes UP-TO-DATE
> Task :lucene:analysis:morfologik:compileJava UP-TO-DATE
> Task :lucene:expressions:classes UP-TO-DATE
> Task :lucene:analysis:morfologik:classes UP-TO-DATE
> Task :lucene:spatial-extras:compileJava UP-TO-DATE
> Task :lucene:spatial-extras:classes UP-TO-DATE
> Task :lucene:analysis:nori:jar UP-TO-DATE
> Task :lucene:classification:jar UP-TO-DATE
> Task :lucene:analysis:phonetic:jar UP-TO-DATE
> Task :lucene:suggest:jar UP-TO-DATE
> Task :lucene:analysis:icu:jar UP-TO-DATE
> Task :lucene:analysis:opennlp:jar UP-TO-DATE
> Task :lucene:analysis:smartcn:compileJava UP-TO-DATE
> Task :lucene:analysis:smartcn:classes UP-TO-DATE
> Task :lucene:expressions:jar UP-TO-DATE
> Task :lucene:sandbox:jar UP-TO-DATE
> Task :lucene:analysis:stempel:compileJava UP-TO-DATE
> Task :lucene:spatial-extras:jar UP-TO-DATE
> Task :lucene:analysis:stempel:classes UP-TO-DATE
> Task :lucene:analysis:smartcn:jar UP-TO-DATE
> Task :lucene:analysis:morfologik:jar UP-TO-DATE
> Task :lucene:analysis:stempel:jar UP-TO-DATE
> Task :lucene:monitor:compileJava UP-TO-DATE
> Task :lucene:monitor:classes UP-TO-DATE
> Task :lucene:monitor:jar UP-TO-DATE
> Task :lucene:benchmark-jmh:compileJava UP-TO-DATE
> Task :lucene:queryparser:compileJava UP-TO-DATE
> Task :lucene:benchmark-jmh:classes UP-TO-DATE
> Task :lucene:queryparser:classes UP-TO-DATE
> Task :lucene:test-framework:compileJava UP-TO-DATE
> Task :lucene:test-framework:classes UP-TO-DATE
> Task :lucene:queryparser:jar UP-TO-DATE
> Task :lucene:benchmark-jmh:jar UP-TO-DATE
> Task :lucene:test-framework:jar UP-TO-DATE
> Task :lucene:demo:compileJava UP-TO-DATE
> Task :lucene:demo:classes UP-TO-DATE
> Task :lucene:luke:compileJava UP-TO-DATE
> Task :lucene:spatial-test-fixtures:compileJava UP-TO-DATE
> Task :lucene:benchmark:compileJava UP-TO-DATE
> Task :lucene:luke:classes UP-TO-DATE
> Task :lucene:spatial-test-fixtures:classes UP-TO-DATE
> Task :lucene:demo:jar UP-TO-DATE
> Task :lucene:benchmark:classes UP-TO-DATE
> Task :lucene:spatial-test-fixtures:jar UP-TO-DATE
> Task :lucene:luke:jar UP-TO-DATE
> Task :lucene:benchmark:jar UP-TO-DATE

[Incubating] Problems report is available at: file:///l/trunk.nightly/build/reports/problems/problems-report.html

BUILD SUCCESSFUL in 9s
98 actionable tasks: 2 executed, 96 up-to-date
compile luceneutil KNN at /l/util.nightly
WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by net.rubygrapefruit.platform.internal.NativeLibraryLoader in an unnamed module (file:/home/mike/.gradle/wrapper/dists/gradle-8.14-bin/38aieal9i53h9rfe7vjup95b9/gradle-8.14/lib/native-platform-0.22-milestone-28.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details
> Task :compileKnn

[Incubating] Problems report is available at: file:///l/util.nightly/build/reports/problems/problems-report.html

Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.

You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.

For more on this, please refer to https://docs.gradle.org/8.14/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.

BUILD SUCCESSFUL in 6s
1 actionable task: 1 executed
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-reindex', '-quantize', '-quantizeBits', '4', '-quantizeCompress']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-4--compressed-8000000.index
Seed = 958245305680736
May 12, 2025 12:54:04 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
creating index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-4--compressed-8000000.index
33332620 doc vectors in docsPath "/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec"
parentJoin=false
Done indexing 25000 documents.
Done indexing 50000 documents.
Done indexing 75000 documents.
Done indexing 100000 documents.
Done indexing 125000 documents.
Done indexing 150000 documents.
Done indexing 175000 documents.
Done indexing 200000 documents.
Done indexing 225000 documents.
Done indexing 250000 documents.
Done indexing 275000 documents.
Done indexing 300000 documents.
Done indexing 325000 documents.
Done indexing 350000 documents.
Done indexing 375000 documents.
Done indexing 400000 documents.
Done indexing 425000 documents.
Done indexing 450000 documents.
Done indexing 475000 documents.
Done indexing 500000 documents.
Done indexing 525000 documents.
Done indexing 550000 documents.
Done indexing 575000 documents.
Done indexing 600000 documents.
Done indexing 625000 documents.
Done indexing 650000 documents.
Done indexing 675000 documents.
Done indexing 700000 documents.
Done indexing 725000 documents.
Done indexing 750000 documents.
Done indexing 775000 documents.
Done indexing 800000 documents.
Done indexing 825000 documents.
Done indexing 850000 documents.
Done indexing 875000 documents.
Done indexing 900000 documents.
Done indexing 925000 documents.
Done indexing 950000 documents.
Done indexing 975000 documents.
Done indexing 1000000 documents.
Done indexing 1025000 documents.
Done indexing 1050000 documents.
Done indexing 1075000 documents.
Done indexing 1100000 documents.
Done indexing 1125000 documents.
Done indexing 1150000 documents.
Done indexing 1175000 documents.
Done indexing 1200000 documents.
Done indexing 1225000 documents.
Done indexing 1250000 documents.
Done indexing 1275000 documents.
Done indexing 1300000 documents.
Done indexing 1325000 documents.
Done indexing 1350000 documents.
Done indexing 1375000 documents.
Done indexing 1400000 documents.
Done indexing 1425000 documents.
Done indexing 1450000 documents.
Done indexing 1475000 documents.
Done indexing 1500000 documents.
Done indexing 1525000 documents.
Done indexing 1550000 documents.
Done indexing 1575000 documents.
Done indexing 1600000 documents.
Done indexing 1625000 documents.
Done indexing 1650000 documents.
Done indexing 1675000 documents.
Done indexing 1700000 documents.
Done indexing 1725000 documents.
Done indexing 1750000 documents.
Done indexing 1775000 documents.
Done indexing 1800000 documents.
Done indexing 1825000 documents.
Done indexing 1850000 documents.
Done indexing 1875000 documents.
Done indexing 1900000 documents.
Done indexing 1925000 documents.
Done indexing 1950000 documents.
Done indexing 1975000 documents.
Done indexing 2000000 documents.
Done indexing 2025000 documents.
Done indexing 2050000 documents.
Done indexing 2075000 documents.
Done indexing 2100000 documents.
Done indexing 2125000 documents.
Done indexing 2150000 documents.
Done indexing 2175000 documents.
Done indexing 2200000 documents.
Done indexing 2225000 documents.
Done indexing 2250000 documents.
Done indexing 2275000 documents.
Done indexing 2300000 documents.
Done indexing 2325000 documents.
Done indexing 2350000 documents.
Done indexing 2375000 documents.
Done indexing 2400000 documents.
Done indexing 2425000 documents.
Done indexing 2450000 documents.
Done indexing 2475000 documents.
Done indexing 2500000 documents.
Done indexing 2525000 documents.
Done indexing 2550000 documents.
Done indexing 2575000 documents.
Done indexing 2600000 documents.
Done indexing 2625000 documents.
Done indexing 2650000 documents.
Done indexing 2675000 documents.
Done indexing 2700000 documents.
Done indexing 2725000 documents.
Done indexing 2750000 documents.
Done indexing 2775000 documents.
Done indexing 2800000 documents.
Done indexing 2825000 documents.
Done indexing 2850000 documents.
Done indexing 2875000 documents.
Done indexing 2900000 documents.
Done indexing 2925000 documents.
Done indexing 2950000 documents.
Done indexing 2975000 documents.
Done indexing 3000000 documents.
Done indexing 3025000 documents.
Done indexing 3050000 documents.
Done indexing 3075000 documents.
Done indexing 3100000 documents.
Done indexing 3125000 documents.
Done indexing 3150000 documents.
Done indexing 3175000 documents.
Done indexing 3200000 documents.
Done indexing 3225000 documents.
Done indexing 3250000 documents.
Done indexing 3275000 documents.
Done indexing 3300000 documents.
Done indexing 3325000 documents.
Done indexing 3350000 documents.
Done indexing 3375000 documents.
Done indexing 3400000 documents.
Done indexing 3425000 documents.
Done indexing 3450000 documents.
Done indexing 3475000 documents.
Done indexing 3500000 documents.
Done indexing 3525000 documents.
Done indexing 3550000 documents.
Done indexing 3575000 documents.
Done indexing 3600000 documents.
Done indexing 3625000 documents.
Done indexing 3650000 documents.
Done indexing 3675000 documents.
Done indexing 3700000 documents.
Done indexing 3725000 documents.
Done indexing 3750000 documents.
Done indexing 3775000 documents.
Done indexing 3800000 documents.
Done indexing 3825000 documents.
Done indexing 3850000 documents.
Done indexing 3875000 documents.
Done indexing 3900000 documents.
Done indexing 3925000 documents.
Done indexing 3950000 documents.
Done indexing 3975000 documents.
Done indexing 4000000 documents.
Done indexing 4025000 documents.
Done indexing 4050000 documents.
Done indexing 4075000 documents.
Done indexing 4100000 documents.
Done indexing 4125000 documents.
Done indexing 4150000 documents.
Done indexing 4175000 documents.
Done indexing 4200000 documents.
Done indexing 4225000 documents.
Done indexing 4250000 documents.
Done indexing 4275000 documents.
Done indexing 4300000 documents.
Done indexing 4325000 documents.
Done indexing 4350000 documents.
Done indexing 4375000 documents.
Done indexing 4400000 documents.
Done indexing 4425000 documents.
Done indexing 4450000 documents.
Done indexing 4475000 documents.
Done indexing 4500000 documents.
Done indexing 4525000 documents.
Done indexing 4550000 documents.
Done indexing 4575000 documents.
Done indexing 4600000 documents.
Done indexing 4625000 documents.
Done indexing 4650000 documents.
Done indexing 4675000 documents.
Done indexing 4700000 documents.
Done indexing 4725000 documents.
Done indexing 4750000 documents.
Done indexing 4775000 documents.
Done indexing 4800000 documents.
Done indexing 4825000 documents.
Done indexing 4850000 documents.
Done indexing 4875000 documents.
Done indexing 4900000 documents.
Done indexing 4925000 documents.
Done indexing 4950000 documents.
Done indexing 4975000 documents.
Done indexing 5000000 documents.
Done indexing 5025000 documents.
Done indexing 5050000 documents.
Done indexing 5075000 documents.
Done indexing 5100000 documents.
Done indexing 5125000 documents.
Done indexing 5150000 documents.
Done indexing 5175000 documents.
Done indexing 5200000 documents.
Done indexing 5225000 documents.
Done indexing 5250000 documents.
Done indexing 5275000 documents.
Done indexing 5300000 documents.
Done indexing 5325000 documents.
Done indexing 5350000 documents.
Done indexing 5375000 documents.
Done indexing 5400000 documents.
Done indexing 5425000 documents.
Done indexing 5450000 documents.
Done indexing 5475000 documents.
Done indexing 5500000 documents.
Done indexing 5525000 documents.
Done indexing 5550000 documents.
Done indexing 5575000 documents.
Done indexing 5600000 documents.
Done indexing 5625000 documents.
Done indexing 5650000 documents.
Done indexing 5675000 documents.
Done indexing 5700000 documents.
Done indexing 5725000 documents.
Done indexing 5750000 documents.
Done indexing 5775000 documents.
Done indexing 5800000 documents.
Done indexing 5825000 documents.
Done indexing 5850000 documents.
Done indexing 5875000 documents.
Done indexing 5900000 documents.
Done indexing 5925000 documents.
Done indexing 5950000 documents.
Done indexing 5975000 documents.
Done indexing 6000000 documents.
Done indexing 6025000 documents.
Done indexing 6050000 documents.
Done indexing 6075000 documents.
Done indexing 6100000 documents.
Done indexing 6125000 documents.
Done indexing 6150000 documents.
Done indexing 6175000 documents.
Done indexing 6200000 documents.
Done indexing 6225000 documents.
Done indexing 6250000 documents.
Done indexing 6275000 documents.
Done indexing 6300000 documents.
Done indexing 6325000 documents.
Done indexing 6350000 documents.
Done indexing 6375000 documents.
Done indexing 6400000 documents.
Done indexing 6425000 documents.
Done indexing 6450000 documents.
Done indexing 6475000 documents.
Done indexing 6500000 documents.
Done indexing 6525000 documents.
Done indexing 6550000 documents.
Done indexing 6575000 documents.
Done indexing 6600000 documents.
Done indexing 6625000 documents.
Done indexing 6650000 documents.
Done indexing 6675000 documents.
Done indexing 6700000 documents.
Done indexing 6725000 documents.
Done indexing 6750000 documents.
Done indexing 6775000 documents.
Done indexing 6800000 documents.
Done indexing 6825000 documents.
Done indexing 6850000 documents.
Done indexing 6875000 documents.
Done indexing 6900000 documents.
Done indexing 6925000 documents.
Done indexing 6950000 documents.
Done indexing 6975000 documents.
Done indexing 7000000 documents.
Done indexing 7025000 documents.
Done indexing 7050000 documents.
Done indexing 7075000 documents.
Done indexing 7100000 documents.
Done indexing 7125000 documents.
Done indexing 7150000 documents.
Done indexing 7175000 documents.
Done indexing 7200000 documents.
Done indexing 7225000 documents.
Done indexing 7250000 documents.
Done indexing 7275000 documents.
Done indexing 7300000 documents.
Done indexing 7325000 documents.
Done indexing 7350000 documents.
Done indexing 7375000 documents.
Done indexing 7400000 documents.
Done indexing 7425000 documents.
Done indexing 7450000 documents.
Done indexing 7475000 documents.
Done indexing 7500000 documents.
Done indexing 7525000 documents.
Done indexing 7550000 documents.
Done indexing 7575000 documents.
Done indexing 7600000 documents.
Done indexing 7625000 documents.
Done indexing 7650000 documents.
Done indexing 7675000 documents.
Done indexing 7700000 documents.
Done indexing 7725000 documents.
Done indexing 7750000 documents.
Done indexing 7775000 documents.
Done indexing 7800000 documents.
Done indexing 7825000 documents.
Done indexing 7850000 documents.
Done indexing 7875000 documents.
Done indexing 7900000 documents.
Done indexing 7925000 documents.
Done indexing 7950000 documents.
Done indexing 7975000 documents.
Done indexing 8000000 documents.
now IndexWriter.commit()
done ConcurrentMergeScheduler.sync()
Indexed 8000000 docs in 600 seconds
reindex takes 600.65 sec
index has 16 segments: segments_2: _fh(11.0.0):C1520489:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=6, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747068975893, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhah4 _df(11.0.0):c295615:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747068958013, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yh9j3 _i9(11.0.0):c652866:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069000587, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yharg _zk(11.0.0):C1183809:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069176011, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbbc _tl(11.0.0):c749168:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069113862, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbam _x6(11.0.0):C809373:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069153043, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbb9 _qk(11.0.0):c242308:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069083411, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhauv _z0(11.0.0):c286551:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069171039, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbbb _we(11.0.0):c118591:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069144366, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbai _vt(11.0.0):c173336:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069138188, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbao _wz(11.0.0):c117717:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069151006, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhban _yg(11.0.0):c172738:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069165965, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbba _132(11.0.0):c682395:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069254794, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbbd _133(11.0.0):c774419:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069274453, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbbe _12z(11.0.0):c116316:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069212054, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbb6 _131(11.0.0):c104309:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747069216610, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=9twjn7z37znleea5wie5yhbb1
  _fh: 5119.1 MB
  _df: 993.8 MB
  _i9: 2198.1 MB
  _zk: 3991.0 MB
  _tl: 2523.9 MB
  _x6: 2728.1 MB
  _qk: 815.1 MB
  _z0: 964.2 MB
  _we: 398.7 MB
  _vt: 583.1 MB
  _wz: 395.8 MB
  _yg: 581.1 MB
  _132: 2300.3 MB
  _133: 2611.3 MB
  _12z: 391.2 MB
  _131: 350.8 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=0.5
index disk usage is 26945.53 MB
vector disk usage is 26397.71 MB
vector RAM usage is 2960.21 MB
  now compute brute-force exact KNN matches
computing true nearest neighbors of 1000 target vectors
parentJoin = false
now compute brute-force KNN hits for 1000 query vectors from "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec" starting at query index 0
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
 100 120 10 40 30 50 90 80 60 70 110 20 140 150 160 130 200 210 190 180 260 170 290 230 240 300 220 310 270 250 320 330 370 280 380 400 340 390 360 350 430 450 440 410 460 420 520 540 530 480 470 510 500 600 580 490 560 640 620 550 590 660 570 610 630 690 770 700 740 670 710 760 650 680 780 790 750 720 730 810 800 820 830 870 880 840 900 910 890 860 940 850 920 950 990 960 980 930 970 1000writing true nearest neighbors to cache file "nn--xx4srw.bin"
took 250.177 sec to compute brute-force exact matches
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 16152 ms: 61 QPS CPU time=15793ms
checking results
SUMMARY: 0.470	15.793	8000000	100	100	32	100	4 bits	77230	600.65	13318.90	0.00	16	26945.53	1.00	post-filter	1.000	26397.705	2960.205	HNSW
Leaf 0 has 4 layers
Leaf 0 has 1520489 documents
Graph level=3 size=89, Fanout min=2, mean=11.08, max=27, meandelta=93166.73
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   9  10  10  12  13  14  15  27

Graph level=2 size=1442, Fanout min=5, mean=23.47, max=32, meandelta=58637.87
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  18  21  24  27  31  32  32  32

Graph level=1 size=46578, Fanout min=2, mean=24.20, max=32, meandelta=54712.26
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  16  19  22  26  31  32  32  32  32

Graph level=0 size=1520489, Fanout min=1, mean=24.79, max=64, meandelta=48760.53
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  17  20  24  29  37  53  64

Graph level=3 size=89, connectedness=1.00
Graph level=2 size=1442, connectedness=1.00
Graph level=1 size=46578, connectedness=1.00
Graph level=0 size=1520489, connectedness=1.00
Leaf 1 has 4 layers
Leaf 1 has 295615 documents
Graph level=3 size=19, Fanout min=2, mean=5.89, max=10, meandelta=35065.46
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   4   4   5   5   6   7   7   9  10

Graph level=2 size=271, Fanout min=3, mean=16.13, max=32, meandelta=15579.67
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  14  15  17  18  21  25  32

Graph level=1 size=9221, Fanout min=2, mean=24.87, max=32, meandelta=10501.31
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  32  32  32  32  32

Graph level=0 size=295615, Fanout min=1, mean=27.02, max=64, meandelta=9059.23
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  22  26  31  40  56  64

Graph level=3 size=19, connectedness=1.00
Graph level=2 size=271, connectedness=1.00
Graph level=1 size=9221, connectedness=1.00
Graph level=0 size=295615, connectedness=1.00
Leaf 2 has 4 layers
Leaf 2 has 652866 documents
Graph level=3 size=23, Fanout min=3, mean=6.26, max=9, meandelta=48535.23
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   4   5   6   6   7   7   8   8   9

Graph level=2 size=478, Fanout min=3, mean=20.23, max=32, meandelta=28626.96
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  14  16  17  20  22  24  28  32  32

Graph level=1 size=19980, Fanout min=2, mean=25.12, max=32, meandelta=22977.96
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  21  24  28  32  32  32  32  32

Graph level=0 size=652866, Fanout min=1, mean=26.96, max=64, meandelta=19831.51
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  22  26  31  40  57  64

Graph level=3 size=23, connectedness=1.00
Graph level=2 size=478, connectedness=1.00
Graph level=1 size=19980, connectedness=1.00
Graph level=0 size=652866, connectedness=1.00
Leaf 3 has 4 layers
Leaf 3 has 1183809 documents
Graph level=3 size=75, Fanout min=3, mean=9.65, max=24, meandelta=92739.68
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   8   9   9  10  11  12  14  24

Graph level=2 size=1098, Fanout min=5, mean=22.59, max=32, meandelta=46525.13
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  20  22  26  29  32  32  32

Graph level=1 size=36012, Fanout min=1, mean=24.94, max=32, meandelta=41500.23
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  28  32  32  32  32  32

Graph level=0 size=1183809, Fanout min=1, mean=27.01, max=64, meandelta=35820.51
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  22  26  32  40  58  64

Graph level=3 size=75, connectedness=1.00
Graph level=2 size=1098, connectedness=1.00
Graph level=1 size=36012, connectedness=1.00
Graph level=0 size=1183809, connectedness=1.00
Leaf 4 has 4 layers
Leaf 4 has 749168 documents
Graph level=3 size=37, Fanout min=2, mean=6.81, max=12, meandelta=89037.45
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   5   6   7   8   8   9  10  12

Graph level=2 size=641, Fanout min=6, mean=21.74, max=32, meandelta=31554.59
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  17  19  21  24  27  31  32  32

Graph level=1 size=22906, Fanout min=1, mean=25.36, max=32, meandelta=26097.08
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  29  32  32  32  32  32

Graph level=0 size=749168, Fanout min=1, mean=27.49, max=64, meandelta=22443.56
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  23  27  32  41  59  64

Graph level=3 size=37, connectedness=1.00
Graph level=2 size=641, connectedness=1.00
Graph level=1 size=22906, connectedness=1.00
Graph level=0 size=749168, connectedness=1.00
Leaf 5 has 4 layers
Leaf 5 has 809373 documents
Graph level=3 size=45, Fanout min=2, mean=8.27, max=16, meandelta=80883.18
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   6   7   7   7   8   9  11  13  16

Graph level=2 size=723, Fanout min=5, mean=21.62, max=32, meandelta=34004.06
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  16  19  22  24  28  31  32  32

Graph level=1 size=24522, Fanout min=2, mean=25.19, max=32, meandelta=28072.29
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  21  24  28  32  32  32  32  32

Graph level=0 size=809373, Fanout min=1, mean=27.88, max=64, meandelta=23940.34
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  23  27  33  42  61  64

Graph level=3 size=45, connectedness=1.00
Graph level=2 size=723, connectedness=1.00
Graph level=1 size=24522, connectedness=1.00
Graph level=0 size=809373, connectedness=1.00
Leaf 6 has 4 layers
Leaf 6 has 242308 documents
Graph level=3 size=16, Fanout min=2, mean=4.75, max=11, meandelta=38466.39
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   3   3   4   4   4   5   6   6  11

Graph level=2 size=232, Fanout min=4, mean=16.05, max=32, meandelta=13304.27
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  14  15  17  18  21  24  32

Graph level=1 size=7451, Fanout min=3, mean=25.46, max=32, meandelta=8469.99
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  28  32  32  32  32  32

Graph level=0 size=242308, Fanout min=1, mean=28.68, max=64, meandelta=7102.01
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  24  28  34  43  61  64

Graph level=3 size=16, connectedness=1.00
Graph level=2 size=232, connectedness=1.00
Graph level=1 size=7451, connectedness=1.00
Graph level=0 size=242308, connectedness=1.00
Leaf 7 has 4 layers
Leaf 7 has 286551 documents
Graph level=3 size=12, Fanout min=1, mean=4.33, max=8, meandelta=21570.54
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   3   4   4   5   5   7   8

Graph level=2 size=262, Fanout min=6, mean=16.79, max=32, meandelta=14463.88
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  11  13  14  16  18  19  21  26  32

Graph level=1 size=8814, Fanout min=4, mean=25.48, max=32, meandelta=10026.78
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  28  32  32  32  32  32

Graph level=0 size=286551, Fanout min=1, mean=28.61, max=64, meandelta=8405.84
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  24  28  34  43  61  64

Graph level=3 size=12, connectedness=1.00
Graph level=2 size=262, connectedness=1.00
Graph level=1 size=8814, connectedness=1.00
Graph level=0 size=286551, connectedness=1.00
Leaf 8 has 4 layers
Leaf 8 has 118591 documents
Graph level=3 size=9, Fanout min=1, mean=3.33, max=6, meandelta=19838.63
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   3   3   4   4   5   6

Graph level=2 size=109, Fanout min=4, mean=12.29, max=22, meandelta=8075.51
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   8   9  11  12  13  15  16  18  22

Graph level=1 size=3577, Fanout min=4, mean=25.27, max=32, meandelta=4214.23
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  24  28  32  32  32  32  32

Graph level=0 size=118591, Fanout min=1, mean=29.46, max=64, meandelta=3435.24
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  21  25  29  35  44  62  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=109, connectedness=1.00
Graph level=1 size=3577, connectedness=1.00
Graph level=0 size=118591, connectedness=1.00
Leaf 9 has 4 layers
Leaf 9 has 173336 documents
Graph level=3 size=8, Fanout min=1, mean=3.00, max=5, meandelta=18290.13
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   3   3   3   4   4   5

Graph level=2 size=166, Fanout min=2, mean=13.77, max=32, meandelta=10378.84
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   9  10  12  13  14  16  18  21  32

Graph level=1 size=5357, Fanout min=5, mean=25.45, max=32, meandelta=6121.29
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  24  28  32  32  32  32  32

Graph level=0 size=173336, Fanout min=1, mean=29.48, max=64, meandelta=4996.53
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  21  25  29  35  44  63  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=166, connectedness=1.00
Graph level=1 size=5357, connectedness=1.00
Graph level=0 size=173336, connectedness=1.00
Leaf 10 has 4 layers
Leaf 10 has 117717 documents
Graph level=3 size=9, Fanout min=2, mean=3.33, max=6, meandelta=24829.63
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   3   3   3   3   3   3   4   6

Graph level=2 size=108, Fanout min=4, mean=12.26, max=26, meandelta=7891.88
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   8   9  11  12  13  15  16  18  26

Graph level=1 size=3566, Fanout min=5, mean=25.15, max=32, meandelta=4199.09
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  17  21  24  28  32  32  32  32  32

Graph level=0 size=117717, Fanout min=1, mean=29.46, max=64, meandelta=3404.39
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  21  25  29  35  44  62  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=108, connectedness=1.00
Graph level=1 size=3566, connectedness=1.00
Graph level=0 size=117717, connectedness=1.00
Leaf 11 has 4 layers
Leaf 11 has 172738 documents
Graph level=3 size=9, Fanout min=1, mean=2.67, max=5, meandelta=20607.17
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   1   2   2   2   3   4   4   5

Graph level=2 size=159, Fanout min=4, mean=14.28, max=28, meandelta=10022.43
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   9  10  12  14  16  18  19  22  28

Graph level=1 size=5305, Fanout min=3, mean=25.53, max=32, meandelta=6081.25
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  28  32  32  32  32  32

Graph level=0 size=172738, Fanout min=1, mean=29.57, max=64, meandelta=4965.09
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  21  25  29  35  44  63  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=159, connectedness=1.00
Graph level=1 size=5305, connectedness=1.00
Graph level=0 size=172738, connectedness=1.00
Leaf 12 has 4 layers
Leaf 12 has 682395 documents
Graph level=3 size=24, Fanout min=3, mean=6.42, max=13, meandelta=38491.73
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   5   5   7   7   7   8   8  13

Graph level=2 size=570, Fanout min=5, mean=21.43, max=32, meandelta=29296.85
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  18  21  24  27  30  32  32

Graph level=1 size=20907, Fanout min=2, mean=25.53, max=32, meandelta=23819.29
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  29  32  32  32  32  32

Graph level=0 size=682395, Fanout min=1, mean=28.56, max=64, meandelta=19837.63
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  24  28  34  43  63  64

Graph level=3 size=24, connectedness=1.00
Graph level=2 size=570, connectedness=1.00
Graph level=1 size=20907, connectedness=1.00
Graph level=0 size=682395, connectedness=1.00
Leaf 13 has 4 layers
Leaf 13 has 774419 documents
Graph level=3 size=38, Fanout min=3, mean=6.11, max=13, meandelta=105447.93
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   4   5   6   6   7   8   9  13

Graph level=2 size=669, Fanout min=5, mean=21.51, max=32, meandelta=32526.86
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  16  19  21  24  26  31  32  32

Graph level=1 size=23741, Fanout min=1, mean=25.49, max=32, meandelta=26904.53
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  25  29  32  32  32  32  32

Graph level=0 size=774419, Fanout min=1, mean=28.50, max=64, meandelta=22618.40
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  23  28  34  43  63  64

Graph level=3 size=38, connectedness=1.00
Graph level=2 size=669, connectedness=1.00
Graph level=1 size=23741, connectedness=1.00
Graph level=0 size=774419, connectedness=1.00
Leaf 14 has 4 layers
Leaf 14 has 116316 documents
Graph level=3 size=8, Fanout min=1, mean=3.00, max=6, meandelta=16834.00
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   3   3   3   3   4   6

Graph level=2 size=106, Fanout min=3, mean=11.47, max=23, meandelta=8175.82
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   8   9  10  11  12  14  16  17  23

Graph level=1 size=3508, Fanout min=5, mean=25.32, max=32, meandelta=4107.50
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  24  28  32  32  32  32  32

Graph level=0 size=116316, Fanout min=1, mean=30.19, max=64, meandelta=3312.22
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  22  25  30  36  46  64  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=106, connectedness=1.00
Graph level=1 size=3508, connectedness=1.00
Graph level=0 size=116316, connectedness=1.00
Leaf 15 has 4 layers
Leaf 15 has 104309 documents
Graph level=3 size=6, Fanout min=2, mean=2.33, max=3, meandelta=17674.57
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   2   2   2   2   3   3

Graph level=2 size=95, Fanout min=4, mean=11.24, max=27, meandelta=7345.16
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   8   8   9  11  12  13  14  16  27

Graph level=1 size=3162, Fanout min=2, mean=25.19, max=32, meandelta=3724.31
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  18  21  24  27  32  32  32  32  32

Graph level=0 size=104309, Fanout min=1, mean=30.18, max=64, meandelta=2948.85
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  19  22  25  30  36  45  64  64

Graph level=3 size=6, connectedness=1.00
Graph level=2 size=95, connectedness=1.00
Graph level=1 size=3162, connectedness=1.00
Graph level=0 size=104309, connectedness=1.00
  took 0:14:53.290037 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=False, recall=0.47, cpu_time_ms=15.793, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='4 bits', total_visited=77230, index_time_sec=600.65, index_docs_per_sec=13318.9, force_merge_time_sec=0.0, index_num_segments=16, index_size_on_disk_mb=26945.53, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=26397.705, graph_level_conn_p_values={3: (6, {0: 0, 10: 1, 20: 2, 30: 2, 40: 2, 50: 2, 60: 2, 70: 2, 80: 2, 90: 3, 100: 3}), 2: (95, {0: 0, 10: 6, 20: 8, 30: 8, 40: 9, 50: 11, 60: 12, 70: 13, 80: 14, 90: 16, 100: 27}), 1: (3162, {0: 0, 10: 14, 20: 18, 30: 21, 40: 24, 50: 27, 60: 32, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (104309, {0: 0, 10: 12, 20: 15, 30: 19, 40: 22, 50: 25, 60: 30, 70: 36, 80: 45, 90: 64, 100: 64})}, combined_run_time=datetime.timedelta(seconds=893, microseconds=290037))
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-forceMerge', '-quantize', '-quantizeBits', '4', '-quantizeCompress']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-4--compressed-8000000.index
Seed = 959138596805505
May 12, 2025 1:08:57 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
Force merge index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-4--compressed-8000000.index
Force merge done in 624.18 sec
index has 1 segments: segments_3: _134(11.0.0):C8000000:[diagnostics={mergeMaxNumSegments=1, timestamp=1747069737563, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux, mergeFactor=16, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=4fyo3fh1kangth4c39wifpoif
  _134: 26958.2 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=0.5
index disk usage is 26958.21 MB
vector disk usage is 26397.71 MB
vector RAM usage is 2960.21 MB
  read pre-cached exact match vectors from cache file "nn--xx4srw.bin"
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 3020 ms: 331 QPS CPU time=2959ms
checking results
SUMMARY: 0.464	2.959	8000000	100	100	32	100	4 bits	7066	0.00	Infinity	624.18	1	26958.21	1.00	post-filter	1.000	26397.705	2960.205	HNSW
Leaf 0 has 4 layers
Leaf 0 has 8000000 documents
Graph level=3 size=276, Fanout min=4, mean=16.78, max=32, meandelta=413657.09
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  11  13  14  15  18  20  21  25  32

Graph level=2 size=7652, Fanout min=3, mean=25.25, max=32, meandelta=284583.34
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  17  21  24  28  32  32  32  32  32

Graph level=1 size=247109, Fanout min=1, mean=22.99, max=32, meandelta=293536.66
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  14  17  20  24  29  32  32  32  32

Graph level=0 size=8000000, Fanout min=1, mean=23.28, max=64, meandelta=268528.94
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  13  15  18  22  27  35  51  64

Graph level=3 size=276, connectedness=1.00
Graph level=2 size=7652, connectedness=1.00
Graph level=1 size=247109, connectedness=1.00
Graph level=0 size=8000000, connectedness=1.00
  took 0:10:47.868866 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=True, recall=0.464, cpu_time_ms=2.959, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='4 bits', total_visited=7066, index_time_sec=0.0, index_docs_per_sec=inf, force_merge_time_sec=624.18, index_num_segments=1, index_size_on_disk_mb=26958.21, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=26397.705, graph_level_conn_p_values={3: (276, {0: 0, 10: 10, 20: 11, 30: 13, 40: 14, 50: 15, 60: 18, 70: 20, 80: 21, 90: 25, 100: 32}), 2: (7652, {0: 0, 10: 14, 20: 17, 30: 21, 40: 24, 50: 28, 60: 32, 70: 32, 80: 32, 90: 32, 100: 32}), 1: (247109, {0: 0, 10: 10, 20: 14, 30: 17, 40: 20, 50: 24, 60: 29, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (8000000, {0: 0, 10: 7, 20: 10, 30: 13, 40: 15, 50: 18, 60: 22, 70: 27, 80: 35, 90: 51, 100: 64})}, combined_run_time=datetime.timedelta(seconds=647, microseconds=868866))
now remove KNN index knnIndices/cohere-wikipedia-docs-768d.vec-32-100-4--compressed-8000000.index
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-reindex', '-quantize', '-quantizeBits', '7']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-7-8000000.index
Seed = 959788541697649
May 12, 2025 1:19:47 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
creating index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-7-8000000.index
33332620 doc vectors in docsPath "/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec"
parentJoin=false
Done indexing 25000 documents.
Done indexing 50000 documents.
Done indexing 75000 documents.
Done indexing 100000 documents.
Done indexing 125000 documents.
Done indexing 150000 documents.
Done indexing 175000 documents.
Done indexing 200000 documents.
Done indexing 225000 documents.
Done indexing 250000 documents.
Done indexing 275000 documents.
Done indexing 300000 documents.
Done indexing 325000 documents.
Done indexing 350000 documents.
Done indexing 375000 documents.
Done indexing 400000 documents.
Done indexing 425000 documents.
Done indexing 450000 documents.
Done indexing 475000 documents.
Done indexing 500000 documents.
Done indexing 525000 documents.
Done indexing 550000 documents.
Done indexing 575000 documents.
Done indexing 600000 documents.
Done indexing 625000 documents.
Done indexing 650000 documents.
Done indexing 675000 documents.
Done indexing 700000 documents.
Done indexing 725000 documents.
Done indexing 750000 documents.
Done indexing 775000 documents.
Done indexing 800000 documents.
Done indexing 825000 documents.
Done indexing 850000 documents.
Done indexing 875000 documents.
Done indexing 900000 documents.
Done indexing 925000 documents.
Done indexing 950000 documents.
Done indexing 975000 documents.
Done indexing 1000000 documents.
Done indexing 1025000 documents.
Done indexing 1050000 documents.
Done indexing 1075000 documents.
Done indexing 1100000 documents.
Done indexing 1125000 documents.
Done indexing 1150000 documents.
Done indexing 1175000 documents.
Done indexing 1200000 documents.
Done indexing 1225000 documents.
Done indexing 1250000 documents.
Done indexing 1275000 documents.
Done indexing 1300000 documents.
Done indexing 1325000 documents.
Done indexing 1350000 documents.
Done indexing 1375000 documents.
Done indexing 1400000 documents.
Done indexing 1425000 documents.
Done indexing 1450000 documents.
Done indexing 1475000 documents.
Done indexing 1500000 documents.
Done indexing 1525000 documents.
Done indexing 1550000 documents.
Done indexing 1575000 documents.
Done indexing 1600000 documents.
Done indexing 1625000 documents.
Done indexing 1650000 documents.
Done indexing 1675000 documents.
Done indexing 1700000 documents.
Done indexing 1725000 documents.
Done indexing 1750000 documents.
Done indexing 1775000 documents.
Done indexing 1800000 documents.
Done indexing 1825000 documents.
Done indexing 1850000 documents.
Done indexing 1875000 documents.
Done indexing 1900000 documents.
Done indexing 1925000 documents.
Done indexing 1950000 documents.
Done indexing 1975000 documents.
Done indexing 2000000 documents.
Done indexing 2025000 documents.
Done indexing 2050000 documents.
Done indexing 2075000 documents.
Done indexing 2100000 documents.
Done indexing 2125000 documents.
Done indexing 2150000 documents.
Done indexing 2175000 documents.
Done indexing 2200000 documents.
Done indexing 2225000 documents.
Done indexing 2250000 documents.
Done indexing 2275000 documents.
Done indexing 2300000 documents.
Done indexing 2325000 documents.
Done indexing 2350000 documents.
Done indexing 2375000 documents.
Done indexing 2400000 documents.
Done indexing 2425000 documents.
Done indexing 2450000 documents.
Done indexing 2475000 documents.
Done indexing 2500000 documents.
Done indexing 2525000 documents.
Done indexing 2550000 documents.
Done indexing 2575000 documents.
Done indexing 2600000 documents.
Done indexing 2625000 documents.
Done indexing 2650000 documents.
Done indexing 2675000 documents.
Done indexing 2700000 documents.
Done indexing 2725000 documents.
Done indexing 2750000 documents.
Done indexing 2775000 documents.
Done indexing 2800000 documents.
Done indexing 2825000 documents.
Done indexing 2850000 documents.
Done indexing 2875000 documents.
Done indexing 2900000 documents.
Done indexing 2925000 documents.
Done indexing 2950000 documents.
Done indexing 2975000 documents.
Done indexing 3000000 documents.
Done indexing 3025000 documents.
Done indexing 3050000 documents.
Done indexing 3075000 documents.
Done indexing 3100000 documents.
Done indexing 3125000 documents.
Done indexing 3150000 documents.
Done indexing 3175000 documents.
Done indexing 3200000 documents.
Done indexing 3225000 documents.
Done indexing 3250000 documents.
Done indexing 3275000 documents.
Done indexing 3300000 documents.
Done indexing 3325000 documents.
Done indexing 3350000 documents.
Done indexing 3375000 documents.
Done indexing 3400000 documents.
Done indexing 3425000 documents.
Done indexing 3450000 documents.
Done indexing 3475000 documents.
Done indexing 3500000 documents.
Done indexing 3525000 documents.
Done indexing 3550000 documents.
Done indexing 3575000 documents.
Done indexing 3600000 documents.
Done indexing 3625000 documents.
Done indexing 3650000 documents.
Done indexing 3675000 documents.
Done indexing 3700000 documents.
Done indexing 3725000 documents.
Done indexing 3750000 documents.
Done indexing 3775000 documents.
Done indexing 3800000 documents.
Done indexing 3825000 documents.
Done indexing 3850000 documents.
Done indexing 3875000 documents.
Done indexing 3900000 documents.
Done indexing 3925000 documents.
Done indexing 3950000 documents.
Done indexing 3975000 documents.
Done indexing 4000000 documents.
Done indexing 4025000 documents.
Done indexing 4050000 documents.
Done indexing 4075000 documents.
Done indexing 4100000 documents.
Done indexing 4125000 documents.
Done indexing 4150000 documents.
Done indexing 4175000 documents.
Done indexing 4200000 documents.
Done indexing 4225000 documents.
Done indexing 4250000 documents.
Done indexing 4275000 documents.
Done indexing 4300000 documents.
Done indexing 4325000 documents.
Done indexing 4350000 documents.
Done indexing 4375000 documents.
Done indexing 4400000 documents.
Done indexing 4425000 documents.
Done indexing 4450000 documents.
Done indexing 4475000 documents.
Done indexing 4500000 documents.
Done indexing 4525000 documents.
Done indexing 4550000 documents.
Done indexing 4575000 documents.
Done indexing 4600000 documents.
Done indexing 4625000 documents.
Done indexing 4650000 documents.
Done indexing 4675000 documents.
Done indexing 4700000 documents.
Done indexing 4725000 documents.
Done indexing 4750000 documents.
Done indexing 4775000 documents.
Done indexing 4800000 documents.
Done indexing 4825000 documents.
Done indexing 4850000 documents.
Done indexing 4875000 documents.
Done indexing 4900000 documents.
Done indexing 4925000 documents.
Done indexing 4950000 documents.
Done indexing 4975000 documents.
Done indexing 5000000 documents.
Done indexing 5025000 documents.
Done indexing 5050000 documents.
Done indexing 5075000 documents.
Done indexing 5100000 documents.
Done indexing 5125000 documents.
Done indexing 5150000 documents.
Done indexing 5175000 documents.
Done indexing 5200000 documents.
Done indexing 5225000 documents.
Done indexing 5250000 documents.
Done indexing 5275000 documents.
Done indexing 5300000 documents.
Done indexing 5325000 documents.
Done indexing 5350000 documents.
Done indexing 5375000 documents.
Done indexing 5400000 documents.
Done indexing 5425000 documents.
Done indexing 5450000 documents.
Done indexing 5475000 documents.
Done indexing 5500000 documents.
Done indexing 5525000 documents.
Done indexing 5550000 documents.
Done indexing 5575000 documents.
Done indexing 5600000 documents.
Done indexing 5625000 documents.
Done indexing 5650000 documents.
Done indexing 5675000 documents.
Done indexing 5700000 documents.
Done indexing 5725000 documents.
Done indexing 5750000 documents.
Done indexing 5775000 documents.
Done indexing 5800000 documents.
Done indexing 5825000 documents.
Done indexing 5850000 documents.
Done indexing 5875000 documents.
Done indexing 5900000 documents.
Done indexing 5925000 documents.
Done indexing 5950000 documents.
Done indexing 5975000 documents.
Done indexing 6000000 documents.
Done indexing 6025000 documents.
Done indexing 6050000 documents.
Done indexing 6075000 documents.
Done indexing 6100000 documents.
Done indexing 6125000 documents.
Done indexing 6150000 documents.
Done indexing 6175000 documents.
Done indexing 6200000 documents.
Done indexing 6225000 documents.
Done indexing 6250000 documents.
Done indexing 6275000 documents.
Done indexing 6300000 documents.
Done indexing 6325000 documents.
Done indexing 6350000 documents.
Done indexing 6375000 documents.
Done indexing 6400000 documents.
Done indexing 6425000 documents.
Done indexing 6450000 documents.
Done indexing 6475000 documents.
Done indexing 6500000 documents.
Done indexing 6525000 documents.
Done indexing 6550000 documents.
Done indexing 6575000 documents.
Done indexing 6600000 documents.
Done indexing 6625000 documents.
Done indexing 6650000 documents.
Done indexing 6675000 documents.
Done indexing 6700000 documents.
Done indexing 6725000 documents.
Done indexing 6750000 documents.
Done indexing 6775000 documents.
Done indexing 6800000 documents.
Done indexing 6825000 documents.
Done indexing 6850000 documents.
Done indexing 6875000 documents.
Done indexing 6900000 documents.
Done indexing 6925000 documents.
Done indexing 6950000 documents.
Done indexing 6975000 documents.
Done indexing 7000000 documents.
Done indexing 7025000 documents.
Done indexing 7050000 documents.
Done indexing 7075000 documents.
Done indexing 7100000 documents.
Done indexing 7125000 documents.
Done indexing 7150000 documents.
Done indexing 7175000 documents.
Done indexing 7200000 documents.
Done indexing 7225000 documents.
Done indexing 7250000 documents.
Done indexing 7275000 documents.
Done indexing 7300000 documents.
Done indexing 7325000 documents.
Done indexing 7350000 documents.
Done indexing 7375000 documents.
Done indexing 7400000 documents.
Done indexing 7425000 documents.
Done indexing 7450000 documents.
Done indexing 7475000 documents.
Done indexing 7500000 documents.
Done indexing 7525000 documents.
Done indexing 7550000 documents.
Done indexing 7575000 documents.
Done indexing 7600000 documents.
Done indexing 7625000 documents.
Done indexing 7650000 documents.
Done indexing 7675000 documents.
Done indexing 7700000 documents.
Done indexing 7725000 documents.
Done indexing 7750000 documents.
Done indexing 7775000 documents.
Done indexing 7800000 documents.
Done indexing 7825000 documents.
Done indexing 7850000 documents.
Done indexing 7875000 documents.
Done indexing 7900000 documents.
Done indexing 7925000 documents.
Done indexing 7950000 documents.
Done indexing 7975000 documents.
Done indexing 8000000 documents.
now IndexWriter.commit()
done ConcurrentMergeScheduler.sync()
Indexed 8000000 docs in 853 seconds
reindex takes 853.96 sec
index has 19 segments: segments_2: _7r(11.0.0):C1069707:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070486717, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56w07 _qj(11.0.0):C1245922:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070797098, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56xse _ip(11.0.0):C708778:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070654306, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56wuu _f1(11.0.0):c347638:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070596258, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56wca _p4(11.0.0):c321358:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070771229, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56x7e _10u(11.0.0):C1045387:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071004576, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yah _tc(11.0.0):c272758:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070849516, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56xw6 _x5(11.0.0):c319857:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070924007, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56y0e _10a(11.0.0):c278742:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070994518, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56y4f _10k(11.0.0):c216132:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070999556, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56y5u _wl(11.0.0):c162529:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747070914930, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56xwz _12t(11.0.0):c540482:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071043683, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yaj _146(11.0.0):c276792:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071069820, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yak _131(11.0.0):c261368:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071047754, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yai _12b(11.0.0):c107290:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071032843, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56ya6 _14s(11.0.0):c122282:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071081208, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yag _15u(11.0.0):c580605:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071154313, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yal _14i(11.0.0):c65560:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=11, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071075616, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yae _15e(11.0.0):c56813:[diagnostics={source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=10, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071092956, mergeMaxNumSegments=-1, lucene.version=11.0.0}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=72rr4eup8610u11qr77l56yaf
  _7r: 3981.7 MB
  _qj: 4643.1 MB
  _ip: 2639.4 MB
  _f1: 1293.9 MB
  _p4: 1196.4 MB
  _10u: 3898.5 MB
  _tc: 1015.7 MB
  _x5: 1191.7 MB
  _10a: 1038.2 MB
  _10k: 804.9 MB
  _wl: 605.1 MB
  _12t: 2014.7 MB
  _146: 1031.0 MB
  _131: 973.6 MB
  _12b: 399.4 MB
  _14s: 455.4 MB
  _15u: 2164.6 MB
  _14i: 244.1 MB
  _15e: 211.5 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=1.0
index disk usage is 29802.96 MB
vector disk usage is 29327.39 MB
vector RAM usage is 5889.89 MB
  now compute brute-force exact KNN matches
computing true nearest neighbors of 1000 target vectors
parentJoin = false
now compute brute-force KNN hits for 1000 query vectors from "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec" starting at query index 0
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
 30 40 50 70 100 20 10 60 120 80 90 110 140 200 160 130 210 170 150 220 180 190 230 250 290 260 270 240 310 320 330 280 350 300 340 370 400 360 380 390 420 440 460 470 410 450 430 480 490 530 540 520 570 500 510 560 580 610 550 600 620 660 630 590 680 650 640 720 730 710 670 700 760 690 740 770 750 780 850 840 790 800 810 830 890 900 920 820 880 930 870 860 950 910 970 960 940 990 980 1000writing true nearest neighbors to cache file "nn--hp5kni.bin"
took 246.807 sec to compute brute-force exact matches
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 15083 ms: 66 QPS CPU time=14747ms
checking results
SUMMARY: 0.859	14.747	8000000	100	100	32	100	7 bits	74456	853.96	9368.09	0.00	19	29802.96	1.00	post-filter	1.000	29327.393	5889.893	HNSW
Leaf 0 has 4 layers
Leaf 0 has 1069707 documents
Graph level=3 size=63, Fanout min=3, mean=8.38, max=16, meandelta=96969.22
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   6   6   7   8   9  10  11  12  16

Graph level=2 size=973, Fanout min=4, mean=21.84, max=32, meandelta=44359.91
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  17  19  21  24  27  31  32  32

Graph level=1 size=32755, Fanout min=1, mean=23.00, max=32, meandelta=40057.77
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  24  28  32  32  32  32

Graph level=0 size=1069707, Fanout min=1, mean=21.07, max=64, meandelta=37947.20
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   8  11  13  16  20  24  31  46  64

Graph level=3 size=63, connectedness=1.00
Graph level=2 size=973, connectedness=1.00
Graph level=1 size=32755, connectedness=1.00
Graph level=0 size=1069707, connectedness=1.00
Leaf 1 has 4 layers
Leaf 1 has 1245922 documents
Graph level=3 size=85, Fanout min=4, mean=10.45, max=25, meandelta=89376.30
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   8   9  10  11  12  13  15  25

Graph level=2 size=1173, Fanout min=3, mean=23.14, max=32, meandelta=48203.61
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  15  18  21  24  27  30  32  32  32

Graph level=1 size=37929, Fanout min=1, mean=23.65, max=32, meandelta=45557.54
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  15  18  22  25  30  32  32  32  32

Graph level=0 size=1245922, Fanout min=1, mean=22.44, max=64, meandelta=42383.64
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   9  12  14  18  21  26  34  49  64

Graph level=3 size=85, connectedness=1.00
Graph level=2 size=1173, connectedness=1.00
Graph level=1 size=37929, connectedness=1.00
Graph level=0 size=1245922, connectedness=1.00
Leaf 2 has 4 layers
Leaf 2 has 708778 documents
Graph level=3 size=24, Fanout min=2, mean=6.25, max=10, meandelta=77499.02
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   5   5   6   6   6   9  10  10

Graph level=2 size=576, Fanout min=5, mean=20.89, max=32, meandelta=31241.82
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  16  18  20  23  26  29  32  32

Graph level=1 size=21745, Fanout min=1, mean=23.94, max=32, meandelta=25972.27
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  19  22  26  30  32  32  32  32

Graph level=0 size=708778, Fanout min=1, mean=22.63, max=64, meandelta=24099.66
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   9  12  15  18  22  27  34  49  64

Graph level=3 size=24, connectedness=1.00
Graph level=2 size=576, connectedness=1.00
Graph level=1 size=21745, connectedness=1.00
Graph level=0 size=708778, connectedness=1.00
Leaf 3 has 4 layers
Leaf 3 has 347638 documents
Graph level=3 size=19, Fanout min=3, mean=5.58, max=8, meandelta=26300.45
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   5   5   5   6   6   6   7   8

Graph level=2 size=253, Fanout min=5, mean=16.19, max=32, meandelta=16696.80
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  14  15  17  19  20  24  32

Graph level=1 size=10536, Fanout min=2, mean=24.36, max=32, meandelta=12533.08
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  16  19  23  26  31  32  32  32  32

Graph level=0 size=347638, Fanout min=1, mean=23.50, max=64, meandelta=11547.85
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  13  16  19  23  28  35  50  64

Graph level=3 size=19, connectedness=1.00
Graph level=2 size=253, connectedness=1.00
Graph level=1 size=10536, connectedness=1.00
Graph level=0 size=347638, connectedness=1.00
Leaf 4 has 4 layers
Leaf 4 has 321358 documents
Graph level=3 size=15, Fanout min=2, mean=4.67, max=8, meandelta=45920.03
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   3   4   4   4   4   5   5   7   8

Graph level=2 size=297, Fanout min=5, mean=16.84, max=32, meandelta=16690.41
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  13  15  17  18  19  22  25  32

Graph level=1 size=9992, Fanout min=3, mean=24.64, max=32, meandelta=11516.73
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  31  32  32  32  32

Graph level=0 size=321358, Fanout min=1, mean=24.10, max=64, meandelta=10574.95
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  13  16  19  23  28  36  51  64

Graph level=3 size=15, connectedness=1.00
Graph level=2 size=297, connectedness=1.00
Graph level=1 size=9992, connectedness=1.00
Graph level=0 size=321358, connectedness=1.00
Leaf 5 has 4 layers
Leaf 5 has 1045387 documents
Graph level=3 size=75, Fanout min=4, mean=10.91, max=17, meandelta=83096.48
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   8   9  10  11  12  13  14  15  17

Graph level=2 size=987, Fanout min=5, mean=22.84, max=32, meandelta=41386.41
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  16  18  21  23  26  28  32  32  32

Graph level=1 size=31879, Fanout min=1, mean=24.14, max=32, meandelta=37793.70
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  16  19  23  26  31  32  32  32  32

Graph level=0 size=1045387, Fanout min=1, mean=23.82, max=64, meandelta=34417.80
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  12  15  19  23  28  36  53  64

Graph level=3 size=75, connectedness=1.00
Graph level=2 size=987, connectedness=1.00
Graph level=1 size=31879, connectedness=1.00
Graph level=0 size=1045387, connectedness=1.00
Leaf 6 has 4 layers
Leaf 6 has 272758 documents
Graph level=3 size=10, Fanout min=2, mean=3.40, max=4, meandelta=32646.94
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   2   3   3   4   4   4   4   4   4

Graph level=2 size=252, Fanout min=4, mean=15.98, max=32, meandelta=14245.34
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  13  15  17  19  21  24  32

Graph level=1 size=8463, Fanout min=3, mean=24.84, max=32, meandelta=9753.06
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  27  32  32  32  32  32

Graph level=0 size=272758, Fanout min=1, mean=25.20, max=64, meandelta=8712.94
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  17  20  25  30  38  53  64

Graph level=3 size=10, connectedness=1.00
Graph level=2 size=252, connectedness=1.00
Graph level=1 size=8463, connectedness=1.00
Graph level=0 size=272758, connectedness=1.00
Leaf 7 has 4 layers
Leaf 7 has 319857 documents
Graph level=3 size=26, Fanout min=3, mean=6.46, max=13, meandelta=35057.21
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   5   5   5   6   6   7   7   9  13

Graph level=2 size=297, Fanout min=4, mean=17.38, max=32, meandelta=15727.56
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  14  15  16  18  20  23  26  32

Graph level=1 size=9797, Fanout min=3, mean=24.84, max=32, meandelta=11386.69
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  32  32  32  32  32

Graph level=0 size=319857, Fanout min=1, mean=25.45, max=64, meandelta=10152.30
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  17  21  25  30  39  55  64

Graph level=3 size=26, connectedness=1.00
Graph level=2 size=297, connectedness=1.00
Graph level=1 size=9797, connectedness=1.00
Graph level=0 size=319857, connectedness=1.00
Leaf 8 has 4 layers
Leaf 8 has 278742 documents
Graph level=3 size=22, Fanout min=3, mean=5.91, max=9, meandelta=35372.21
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   4   5   5   6   6   6   7   8   9

Graph level=2 size=266, Fanout min=4, mean=16.60, max=32, meandelta=14635.12
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  11  13  14  16  18  19  21  25  32

Graph level=1 size=8593, Fanout min=3, mean=24.55, max=32, meandelta=10085.74
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  31  32  32  32  32

Graph level=0 size=278742, Fanout min=1, mean=25.49, max=64, meandelta=8853.35
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  17  21  25  30  39  55  64

Graph level=3 size=22, connectedness=1.00
Graph level=2 size=266, connectedness=1.00
Graph level=1 size=8593, connectedness=1.00
Graph level=0 size=278742, connectedness=1.00
Leaf 9 has 4 layers
Leaf 9 has 216132 documents
Graph level=3 size=10, Fanout min=2, mean=3.80, max=6, meandelta=25561.08
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   3   3   3   3   4   4   5   5   6

Graph level=2 size=194, Fanout min=5, mean=15.37, max=32, meandelta=11942.00
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  13  14  16  18  20  23  32

Graph level=1 size=6639, Fanout min=3, mean=24.88, max=32, meandelta=7728.48
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  27  32  32  32  32  32

Graph level=0 size=216132, Fanout min=1, mean=25.88, max=64, meandelta=6803.27
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  12  15  18  21  25  31  39  55  64

Graph level=3 size=10, connectedness=1.00
Graph level=2 size=194, connectedness=1.00
Graph level=1 size=6639, connectedness=1.00
Graph level=0 size=216132, connectedness=1.00
Leaf 10 has 4 layers
Leaf 10 has 162529 documents
Graph level=3 size=8, Fanout min=2, mean=3.00, max=5, meandelta=30261.42
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   3   3   3   3   4   5

Graph level=2 size=153, Fanout min=3, mean=12.86, max=28, meandelta=10591.58
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   9  10  11  12  13  15  16  19  28

Graph level=1 size=5024, Fanout min=3, mean=24.71, max=32, meandelta=5888.17
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  31  32  32  32  32

Graph level=0 size=162529, Fanout min=1, mean=25.82, max=64, meandelta=5161.11
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  31  39  55  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=153, connectedness=1.00
Graph level=1 size=5024, connectedness=1.00
Graph level=0 size=162529, connectedness=1.00
Leaf 11 has 4 layers
Leaf 11 has 540482 documents
Graph level=3 size=26, Fanout min=3, mean=5.77, max=12, meandelta=45157.55
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   4   5   5   5   6   7   9  12

Graph level=2 size=407, Fanout min=4, mean=18.76, max=32, meandelta=25291.79
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  13  15  16  18  19  21  24  28  32

Graph level=1 size=16298, Fanout min=2, mean=24.84, max=32, meandelta=19222.90
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  27  32  32  32  32  32

Graph level=0 size=540482, Fanout min=1, mean=24.92, max=64, meandelta=17270.42
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  11  14  17  20  24  30  38  55  64

Graph level=3 size=26, connectedness=1.00
Graph level=2 size=407, connectedness=1.00
Graph level=1 size=16298, connectedness=1.00
Graph level=0 size=540482, connectedness=1.00
Leaf 12 has 4 layers
Leaf 12 has 276792 documents
Graph level=3 size=10, Fanout min=2, mean=3.60, max=5, meandelta=28187.92
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   3   3   3   4   4   4   4   4   5

Graph level=2 size=255, Fanout min=3, mean=16.45, max=32, meandelta=14042.14
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  13  15  16  17  19  21  24  32

Graph level=1 size=8559, Fanout min=3, mean=24.99, max=32, meandelta=9856.82
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  21  24  27  32  32  32  32  32

Graph level=0 size=276792, Fanout min=1, mean=25.49, max=64, meandelta=8816.45
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  17  21  25  30  38  54  64

Graph level=3 size=10, connectedness=1.00
Graph level=2 size=255, connectedness=1.00
Graph level=1 size=8559, connectedness=1.00
Graph level=0 size=276792, connectedness=1.00
Leaf 13 has 4 layers
Leaf 13 has 261368 documents
Graph level=3 size=9, Fanout min=2, mean=3.33, max=6, meandelta=31215.57
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   2   3   3   4   6   6

Graph level=2 size=239, Fanout min=5, mean=16.24, max=32, meandelta=13396.23
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  11  12  14  15  17  19  22  23  32

Graph level=1 size=8117, Fanout min=2, mean=24.90, max=32, meandelta=9347.61
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  27  32  32  32  32  32

Graph level=0 size=261368, Fanout min=1, mean=25.74, max=64, meandelta=8266.08
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  11  14  18  21  25  31  39  55  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=239, connectedness=1.00
Graph level=1 size=8117, connectedness=1.00
Graph level=0 size=261368, connectedness=1.00
Leaf 14 has 4 layers
Leaf 14 has 107290 documents
Graph level=3 size=8, Fanout min=1, mean=2.50, max=4, meandelta=18569.15
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   2   2   3   3   3   4

Graph level=2 size=99, Fanout min=4, mean=11.39, max=20, meandelta=7810.00
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   8   9  10  10  11  13  15  17  20

Graph level=1 size=3262, Fanout min=5, mean=24.56, max=32, meandelta=3909.70
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  17  20  23  26  30  32  32  32  32

Graph level=0 size=107290, Fanout min=1, mean=26.55, max=64, meandelta=3353.51
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  19  22  26  32  40  55  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=99, connectedness=1.00
Graph level=1 size=3262, connectedness=1.00
Graph level=0 size=107290, connectedness=1.00
Leaf 15 has 4 layers
Leaf 15 has 122282 documents
Graph level=3 size=6, Fanout min=2, mean=2.67, max=4, meandelta=24872.69
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   2   2   3   3   3   4

Graph level=2 size=111, Fanout min=5, mean=12.25, max=21, meandelta=8305.17
%   0  10  20  30  40  50  60  70  80  90 100
    0   7   8  10  11  12  13  14  15  17  21

Graph level=1 size=3743, Fanout min=3, mean=24.89, max=32, meandelta=4381.16
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  17  20  23  27  31  32  32  32  32

Graph level=0 size=122282, Fanout min=1, mean=26.97, max=64, meandelta=3769.07
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  13  16  19  22  27  32  41  57  64

Graph level=3 size=6, connectedness=1.00
Graph level=2 size=111, connectedness=1.00
Graph level=1 size=3743, connectedness=1.00
Graph level=0 size=122282, connectedness=1.00
Leaf 16 has 4 layers
Leaf 16 has 580605 documents
Graph level=3 size=24, Fanout min=2, mean=5.50, max=11, meandelta=32450.66
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   4   4   5   5   6   8   8  11

Graph level=2 size=442, Fanout min=4, mean=19.23, max=32, meandelta=27362.85
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  15  17  19  21  23  26  30  32

Graph level=1 size=17578, Fanout min=2, mean=24.62, max=32, meandelta=20797.59
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  20  23  27  32  32  32  32  32

Graph level=0 size=580605, Fanout min=1, mean=24.91, max=64, meandelta=18491.88
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  13  16  20  24  30  38  55  64

Graph level=3 size=24, connectedness=1.00
Graph level=2 size=442, connectedness=1.00
Graph level=1 size=17578, connectedness=1.00
Graph level=0 size=580605, connectedness=1.00
Leaf 17 has 4 layers
Leaf 17 has 65560 documents
Graph level=3 size=5, Fanout min=1, mean=2.00, max=4, meandelta=9394.00
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   1   1   1   2   2   2   2   4

Graph level=2 size=63, Fanout min=3, mean=9.08, max=15, meandelta=5845.56
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   6   7   8   9   9  11  12  13  15

Graph level=1 size=1987, Fanout min=3, mean=24.18, max=32, meandelta=2420.56
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  19  22  26  29  32  32  32  32

Graph level=0 size=65560, Fanout min=1, mean=27.64, max=64, meandelta=2014.70
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  23  27  33  42  58  64

Graph level=3 size=5, connectedness=1.00
Graph level=2 size=63, connectedness=1.00
Graph level=1 size=1987, connectedness=1.00
Graph level=0 size=65560, connectedness=1.00
Leaf 18 has 4 layers
Leaf 18 has 56813 documents
Graph level=3 size=4, Fanout min=2, mean=2.50, max=3, meandelta=10530.80
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   2   2   2   3   3   3

Graph level=2 size=52, Fanout min=4, mean=8.50, max=17, meandelta=5025.44
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   6   6   7   8   9  10  10  12  17

Graph level=1 size=1729, Fanout min=5, mean=23.92, max=32, meandelta=2121.90
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  19  22  25  28  32  32  32  32

Graph level=0 size=56813, Fanout min=1, mean=27.70, max=64, meandelta=1747.05
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  20  23  28  33  42  57  64

Graph level=3 size=4, connectedness=1.00
Graph level=2 size=52, connectedness=1.00
Graph level=1 size=1729, connectedness=1.00
Graph level=0 size=56813, connectedness=1.00
  took 0:19:00.356502 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=False, recall=0.859, cpu_time_ms=14.747, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='7 bits', total_visited=74456, index_time_sec=853.96, index_docs_per_sec=9368.09, force_merge_time_sec=0.0, index_num_segments=19, index_size_on_disk_mb=29802.96, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=29327.393, graph_level_conn_p_values={3: (4, {0: 0, 10: 1, 20: 1, 30: 2, 40: 2, 50: 2, 60: 2, 70: 2, 80: 3, 90: 3, 100: 3}), 2: (52, {0: 0, 10: 5, 20: 6, 30: 6, 40: 7, 50: 8, 60: 9, 70: 10, 80: 10, 90: 12, 100: 17}), 1: (1729, {0: 0, 10: 13, 20: 16, 30: 19, 40: 22, 50: 25, 60: 28, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (56813, {0: 0, 10: 10, 20: 13, 30: 16, 40: 20, 50: 23, 60: 28, 70: 33, 80: 42, 90: 57, 100: 64})}, combined_run_time=datetime.timedelta(seconds=1140, microseconds=356502))
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-forceMerge', '-quantize', '-quantizeBits', '7']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-7-8000000.index
Seed = 960928898845362
May 12, 2025 1:38:47 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
Force merge index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-7-8000000.index
Force merge done in 696.07 sec
index has 1 segments: segments_3: _15v(11.0.0):C8000000:[diagnostics={lucene.version=11.0.0, source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=19, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747071527864, mergeMaxNumSegments=1}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=cvy1ulgbja0u4cydmname1tu0
  _15v: 29809.6 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=1.0
index disk usage is 29809.59 MB
vector disk usage is 29327.39 MB
vector RAM usage is 5889.89 MB
  read pre-cached exact match vectors from cache file "nn--hp5kni.bin"
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 2748 ms: 363 QPS CPU time=2693ms
checking results
SUMMARY: 0.793	2.693	8000000	100	100	32	100	7 bits	6086	0.00	Infinity	696.07	1	29809.59	1.00	post-filter	1.000	29327.393	5889.893	HNSW
Leaf 0 has 4 layers
Leaf 0 has 8000000 documents
Graph level=3 size=272, Fanout min=5, mean=16.73, max=32, meandelta=404861.53
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  13  15  16  18  19  21  24  32

Graph level=2 size=7764, Fanout min=3, mean=24.86, max=32, meandelta=289427.16
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  24  27  32  32  32  32  32

Graph level=1 size=247358, Fanout min=1, mean=21.80, max=32, meandelta=304910.63
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  12  15  19  22  27  32  32  32  32

Graph level=0 size=8000000, Fanout min=1, mean=19.72, max=64, meandelta=293970.66
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   7   9  12  15  18  23  30  45  64

Graph level=3 size=272, connectedness=1.00
Graph level=2 size=7764, connectedness=1.00
Graph level=1 size=247358, connectedness=1.00
Graph level=0 size=8000000, connectedness=1.00
  took 0:11:56.672531 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=True, recall=0.793, cpu_time_ms=2.693, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='7 bits', total_visited=6086, index_time_sec=0.0, index_docs_per_sec=inf, force_merge_time_sec=696.07, index_num_segments=1, index_size_on_disk_mb=29809.59, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=29327.393, graph_level_conn_p_values={3: (272, {0: 0, 10: 9, 20: 12, 30: 13, 40: 15, 50: 16, 60: 18, 70: 19, 80: 21, 90: 24, 100: 32}), 2: (7764, {0: 0, 10: 13, 20: 17, 30: 20, 40: 24, 50: 27, 60: 32, 70: 32, 80: 32, 90: 32, 100: 32}), 1: (247358, {0: 0, 10: 8, 20: 12, 30: 15, 40: 19, 50: 22, 60: 27, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (8000000, {0: 0, 10: 4, 20: 7, 30: 9, 40: 12, 50: 15, 60: 18, 70: 23, 80: 30, 90: 45, 100: 64})}, combined_run_time=datetime.timedelta(seconds=716, microseconds=672531))
now remove KNN index knnIndices/cohere-wikipedia-docs-768d.vec-32-100-7-8000000.index
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-reindex']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-8000000.index
Seed = 961647803756712
May 12, 2025 1:50:46 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
creating index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-8000000.index
33332620 doc vectors in docsPath "/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec"
parentJoin=false
Done indexing 25000 documents.
Done indexing 50000 documents.
Done indexing 75000 documents.
Done indexing 100000 documents.
Done indexing 125000 documents.
Done indexing 150000 documents.
Done indexing 175000 documents.
Done indexing 200000 documents.
Done indexing 225000 documents.
Done indexing 250000 documents.
Done indexing 275000 documents.
Done indexing 300000 documents.
Done indexing 325000 documents.
Done indexing 350000 documents.
Done indexing 375000 documents.
Done indexing 400000 documents.
Done indexing 425000 documents.
Done indexing 450000 documents.
Done indexing 475000 documents.
Done indexing 500000 documents.
Done indexing 525000 documents.
Done indexing 550000 documents.
Done indexing 575000 documents.
Done indexing 600000 documents.
Done indexing 625000 documents.
Done indexing 650000 documents.
Done indexing 675000 documents.
Done indexing 700000 documents.
Done indexing 725000 documents.
Done indexing 750000 documents.
Done indexing 775000 documents.
Done indexing 800000 documents.
Done indexing 825000 documents.
Done indexing 850000 documents.
Done indexing 875000 documents.
Done indexing 900000 documents.
Done indexing 925000 documents.
Done indexing 950000 documents.
Done indexing 975000 documents.
Done indexing 1000000 documents.
Done indexing 1025000 documents.
Done indexing 1050000 documents.
Done indexing 1075000 documents.
Done indexing 1100000 documents.
Done indexing 1125000 documents.
Done indexing 1150000 documents.
Done indexing 1175000 documents.
Done indexing 1200000 documents.
Done indexing 1225000 documents.
Done indexing 1250000 documents.
Done indexing 1275000 documents.
Done indexing 1300000 documents.
Done indexing 1325000 documents.
Done indexing 1350000 documents.
Done indexing 1375000 documents.
Done indexing 1400000 documents.
Done indexing 1425000 documents.
Done indexing 1450000 documents.
Done indexing 1475000 documents.
Done indexing 1500000 documents.
Done indexing 1525000 documents.
Done indexing 1550000 documents.
Done indexing 1575000 documents.
Done indexing 1600000 documents.
Done indexing 1625000 documents.
Done indexing 1650000 documents.
Done indexing 1675000 documents.
Done indexing 1700000 documents.
Done indexing 1725000 documents.
Done indexing 1750000 documents.
Done indexing 1775000 documents.
Done indexing 1800000 documents.
Done indexing 1825000 documents.
Done indexing 1850000 documents.
Done indexing 1875000 documents.
Done indexing 1900000 documents.
Done indexing 1925000 documents.
Done indexing 1950000 documents.
Done indexing 1975000 documents.
Done indexing 2000000 documents.
Done indexing 2025000 documents.
Done indexing 2050000 documents.
Done indexing 2075000 documents.
Done indexing 2100000 documents.
Done indexing 2125000 documents.
Done indexing 2150000 documents.
Done indexing 2175000 documents.
Done indexing 2200000 documents.
Done indexing 2225000 documents.
Done indexing 2250000 documents.
Done indexing 2275000 documents.
Done indexing 2300000 documents.
Done indexing 2325000 documents.
Done indexing 2350000 documents.
Done indexing 2375000 documents.
Done indexing 2400000 documents.
Done indexing 2425000 documents.
Done indexing 2450000 documents.
Done indexing 2475000 documents.
Done indexing 2500000 documents.
Done indexing 2525000 documents.
Done indexing 2550000 documents.
Done indexing 2575000 documents.
Done indexing 2600000 documents.
Done indexing 2625000 documents.
Done indexing 2650000 documents.
Done indexing 2675000 documents.
Done indexing 2700000 documents.
Done indexing 2725000 documents.
Done indexing 2750000 documents.
Done indexing 2775000 documents.
Done indexing 2800000 documents.
Done indexing 2825000 documents.
Done indexing 2850000 documents.
Done indexing 2875000 documents.
Done indexing 2900000 documents.
Done indexing 2925000 documents.
Done indexing 2950000 documents.
Done indexing 2975000 documents.
Done indexing 3000000 documents.
Done indexing 3025000 documents.
Done indexing 3050000 documents.
Done indexing 3075000 documents.
Done indexing 3100000 documents.
Done indexing 3125000 documents.
Done indexing 3150000 documents.
Done indexing 3175000 documents.
Done indexing 3200000 documents.
Done indexing 3225000 documents.
Done indexing 3250000 documents.
Done indexing 3275000 documents.
Done indexing 3300000 documents.
Done indexing 3325000 documents.
Done indexing 3350000 documents.
Done indexing 3375000 documents.
Done indexing 3400000 documents.
Done indexing 3425000 documents.
Done indexing 3450000 documents.
Done indexing 3475000 documents.
Done indexing 3500000 documents.
Done indexing 3525000 documents.
Done indexing 3550000 documents.
Done indexing 3575000 documents.
Done indexing 3600000 documents.
Done indexing 3625000 documents.
Done indexing 3650000 documents.
Done indexing 3675000 documents.
Done indexing 3700000 documents.
Done indexing 3725000 documents.
Done indexing 3750000 documents.
Done indexing 3775000 documents.
Done indexing 3800000 documents.
Done indexing 3825000 documents.
Done indexing 3850000 documents.
Done indexing 3875000 documents.
Done indexing 3900000 documents.
Done indexing 3925000 documents.
Done indexing 3950000 documents.
Done indexing 3975000 documents.
Done indexing 4000000 documents.
Done indexing 4025000 documents.
Done indexing 4050000 documents.
Done indexing 4075000 documents.
Done indexing 4100000 documents.
Done indexing 4125000 documents.
Done indexing 4150000 documents.
Done indexing 4175000 documents.
Done indexing 4200000 documents.
Done indexing 4225000 documents.
Done indexing 4250000 documents.
Done indexing 4275000 documents.
Done indexing 4300000 documents.
Done indexing 4325000 documents.
Done indexing 4350000 documents.
Done indexing 4375000 documents.
Done indexing 4400000 documents.
Done indexing 4425000 documents.
Done indexing 4450000 documents.
Done indexing 4475000 documents.
Done indexing 4500000 documents.
Done indexing 4525000 documents.
Done indexing 4550000 documents.
Done indexing 4575000 documents.
Done indexing 4600000 documents.
Done indexing 4625000 documents.
Done indexing 4650000 documents.
Done indexing 4675000 documents.
Done indexing 4700000 documents.
Done indexing 4725000 documents.
Done indexing 4750000 documents.
Done indexing 4775000 documents.
Done indexing 4800000 documents.
Done indexing 4825000 documents.
Done indexing 4850000 documents.
Done indexing 4875000 documents.
Done indexing 4900000 documents.
Done indexing 4925000 documents.
Done indexing 4950000 documents.
Done indexing 4975000 documents.
Done indexing 5000000 documents.
Done indexing 5025000 documents.
Done indexing 5050000 documents.
Done indexing 5075000 documents.
Done indexing 5100000 documents.
Done indexing 5125000 documents.
Done indexing 5150000 documents.
Done indexing 5175000 documents.
Done indexing 5200000 documents.
Done indexing 5225000 documents.
Done indexing 5250000 documents.
Done indexing 5275000 documents.
Done indexing 5300000 documents.
Done indexing 5325000 documents.
Done indexing 5350000 documents.
Done indexing 5375000 documents.
Done indexing 5400000 documents.
Done indexing 5425000 documents.
Done indexing 5450000 documents.
Done indexing 5475000 documents.
Done indexing 5500000 documents.
Done indexing 5525000 documents.
Done indexing 5550000 documents.
Done indexing 5575000 documents.
Done indexing 5600000 documents.
Done indexing 5625000 documents.
Done indexing 5650000 documents.
Done indexing 5675000 documents.
Done indexing 5700000 documents.
Done indexing 5725000 documents.
Done indexing 5750000 documents.
Done indexing 5775000 documents.
Done indexing 5800000 documents.
Done indexing 5825000 documents.
Done indexing 5850000 documents.
Done indexing 5875000 documents.
Done indexing 5900000 documents.
Done indexing 5925000 documents.
Done indexing 5950000 documents.
Done indexing 5975000 documents.
Done indexing 6000000 documents.
Done indexing 6025000 documents.
Done indexing 6050000 documents.
Done indexing 6075000 documents.
Done indexing 6100000 documents.
Done indexing 6125000 documents.
Done indexing 6150000 documents.
Done indexing 6175000 documents.
Done indexing 6200000 documents.
Done indexing 6225000 documents.
Done indexing 6250000 documents.
Done indexing 6275000 documents.
Done indexing 6300000 documents.
Done indexing 6325000 documents.
Done indexing 6350000 documents.
Done indexing 6375000 documents.
Done indexing 6400000 documents.
Done indexing 6425000 documents.
Done indexing 6450000 documents.
Done indexing 6475000 documents.
Done indexing 6500000 documents.
Done indexing 6525000 documents.
Done indexing 6550000 documents.
Done indexing 6575000 documents.
Done indexing 6600000 documents.
Done indexing 6625000 documents.
Done indexing 6650000 documents.
Done indexing 6675000 documents.
Done indexing 6700000 documents.
Done indexing 6725000 documents.
Done indexing 6750000 documents.
Done indexing 6775000 documents.
Done indexing 6800000 documents.
Done indexing 6825000 documents.
Done indexing 6850000 documents.
Done indexing 6875000 documents.
Done indexing 6900000 documents.
Done indexing 6925000 documents.
Done indexing 6950000 documents.
Done indexing 6975000 documents.
Done indexing 7000000 documents.
Done indexing 7025000 documents.
Done indexing 7050000 documents.
Done indexing 7075000 documents.
Done indexing 7100000 documents.
Done indexing 7125000 documents.
Done indexing 7150000 documents.
Done indexing 7175000 documents.
Done indexing 7200000 documents.
Done indexing 7225000 documents.
Done indexing 7250000 documents.
Done indexing 7275000 documents.
Done indexing 7300000 documents.
Done indexing 7325000 documents.
Done indexing 7350000 documents.
Done indexing 7375000 documents.
Done indexing 7400000 documents.
Done indexing 7425000 documents.
Done indexing 7450000 documents.
Done indexing 7475000 documents.
Done indexing 7500000 documents.
Done indexing 7525000 documents.
Done indexing 7550000 documents.
Done indexing 7575000 documents.
Done indexing 7600000 documents.
Done indexing 7625000 documents.
Done indexing 7650000 documents.
Done indexing 7675000 documents.
Done indexing 7700000 documents.
Done indexing 7725000 documents.
Done indexing 7750000 documents.
Done indexing 7775000 documents.
Done indexing 7800000 documents.
Done indexing 7825000 documents.
Done indexing 7850000 documents.
Done indexing 7875000 documents.
Done indexing 7900000 documents.
Done indexing 7925000 documents.
Done indexing 7950000 documents.
Done indexing 7975000 documents.
Done indexing 8000000 documents.
now IndexWriter.commit()
done ConcurrentMergeScheduler.sync()
Indexed 8000000 docs in 1881 seconds
reindex takes 1881.22 sec
index has 17 segments: segments_2: _4e(11.0.0):C337344:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072303929, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5sui _13j(11.0.0):C1374440:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073231560, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vnf _ir(11.0.0):c389007:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072567224, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5uf1 _m7(11.0.0):c479590:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072652833, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5utt _nl(11.0.0):c368761:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072689737, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5v3s _pj(11.0.0):c439110:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072741814, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vfe _yr(11.0.0):c367395:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073047388, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vms _u2(11.0.0):c259383:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072886725, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vmf _11t(11.0.0):c263785:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073160452, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vmy _16y(11.0.0):C1094087:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073488367, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vni _t8(11.0.0):c263980:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747072859850, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vkx _16x(11.0.0):C940690:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073430861, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vnh _12o(11.0.0):c168911:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073194387, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vn3 _16z(11.0.0):C941840:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073577667, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vnj _16c(11.0.0):c162955:[diagnostics={mergeFactor=10, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073343532, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vng _15s(11.0.0):c62103:[diagnostics={mergeFactor=11, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073322887, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vnd _16w(11.0.0):c86619:[diagnostics={mergeFactor=17, java.runtime.version=24.0.1, os.arch=amd64, source=merge, lucene.version=11.0.0, mergeMaxNumSegments=-1, timestamp=1747073366376, os.version=6.14.4-arch1-2, os=Linux, java.vendor=Arch Linux}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=d0g8fb4zo1ngzyhtrgy6q5vne
  _4e: 1006.0 MB
  _13j: 4110.5 MB
  _ir: 1162.4 MB
  _m7: 1433.5 MB
  _nl: 1102.4 MB
  _pj: 1312.8 MB
  _yr: 1098.6 MB
  _u2: 775.5 MB
  _11t: 788.4 MB
  _16y: 3279.3 MB
  _t8: 789.2 MB
  _16x: 2819.1 MB
  _12o: 504.9 MB
  _16z: 2823.2 MB
  _16c: 487.2 MB
  _15s: 185.6 MB
  _16w: 258.9 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=4.0
index disk usage is 23937.53 MB
vector disk usage is 23437.50 MB
vector RAM usage is 23437.50 MB
  now compute brute-force exact KNN matches
computing true nearest neighbors of 1000 target vectors
parentJoin = false
now compute brute-force KNN hits for 1000 query vectors from "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec" starting at query index 0
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
 100 10 60 50 110 70 120 20 80 40 90 140 30 170 190 200 150 210 130 180 220 230 270 240 160 250 300 290 280 260 310 380 330 320 350 360 400 340 410 460 390 370 430 440 420 480 470 500 450 490 530 560 590 550 510 620 520 570 540 640 680 600 610 580 710 630 650 660 730 670 700 690 750 760 740 780 770 810 720 870 790 880 800 860 840 850 830 820 890 910 900 920 930 940 970 950 960 980 990 1000writing true nearest neighbors to cache file "nn--3v9kpw.bin"
took 225.902 sec to compute brute-force exact matches
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 17423 ms: 57 QPS CPU time=17033ms
checking results
SUMMARY: 0.934	17.033	8000000	100	100	32	100	no	68670	1881.22	4252.56	0.00	17	23937.53	1.00	post-filter	1.000	23437.500	23437.500	HNSW
Leaf 0 has 4 layers
Leaf 0 has 337344 documents
Graph level=3 size=18, Fanout min=4, mean=5.22, max=9, meandelta=25783.16
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   4   4   4   5   5   5   6   7   9

Graph level=2 size=285, Fanout min=5, mean=16.04, max=32, meandelta=16949.90
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  13  14  15  17  18  20  23  32

Graph level=1 size=10377, Fanout min=3, mean=24.04, max=32, meandelta=12266.91
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  19  22  25  29  32  32  32  32

Graph level=0 size=337344, Fanout min=1, mean=22.05, max=64, meandelta=11863.15
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  12  15  18  21  26  32  44  64

Graph level=3 size=18, connectedness=1.00
Graph level=2 size=285, connectedness=1.00
Graph level=1 size=10377, connectedness=1.00
Graph level=0 size=337344, connectedness=1.00
Leaf 1 has 4 layers
Leaf 1 has 1374440 documents
Graph level=3 size=85, Fanout min=4, mean=10.64, max=21, meandelta=89851.41
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   8   9  10  11  12  13  16  21

Graph level=2 size=1319, Fanout min=7, mean=24.09, max=32, meandelta=51690.84
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  17  20  22  25  27  31  32  32  32

Graph level=1 size=42024, Fanout min=2, mean=24.57, max=32, meandelta=49272.52
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  17  20  23  27  31  32  32  32  32

Graph level=0 size=1374440, Fanout min=1, mean=22.45, max=64, meandelta=47847.52
%   0  10  20  30  40  50  60  70  80  90 100
    0   7  10  12  15  18  21  26  33  46  64

Graph level=3 size=85, connectedness=1.00
Graph level=2 size=1319, connectedness=1.00
Graph level=1 size=42024, connectedness=1.00
Graph level=0 size=1374440, connectedness=1.00
Leaf 2 has 4 layers
Leaf 2 has 389007 documents
Graph level=3 size=20, Fanout min=2, mean=5.00, max=8, meandelta=34565.38
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   4   4   5   5   5   7   7   8

Graph level=2 size=294, Fanout min=6, mean=17.72, max=32, meandelta=16824.83
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  13  15  17  19  21  23  26  32

Graph level=1 size=11814, Fanout min=3, mean=25.55, max=32, meandelta=13594.61
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  18  21  24  28  32  32  32  32  32

Graph level=0 size=389007, Fanout min=1, mean=24.53, max=64, meandelta=12882.00
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  14  17  20  24  28  36  50  64

Graph level=3 size=20, connectedness=1.00
Graph level=2 size=294, connectedness=1.00
Graph level=1 size=11814, connectedness=1.00
Graph level=0 size=389007, connectedness=1.00
Leaf 3 has 4 layers
Leaf 3 has 479590 documents
Graph level=3 size=22, Fanout min=2, mean=5.64, max=11, meandelta=40298.11
%   0  10  20  30  40  50  60  70  80  90 100
    0   2   3   4   4   5   6   6   8   9  11

Graph level=2 size=357, Fanout min=5, mean=17.96, max=32, meandelta=19921.25
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  12  14  15  17  19  21  23  27  32

Graph level=1 size=14587, Fanout min=3, mean=25.41, max=32, meandelta=16810.17
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  18  21  24  28  32  32  32  32  32

Graph level=0 size=479590, Fanout min=1, mean=24.41, max=64, meandelta=15856.74
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  14  17  20  24  28  35  50  64

Graph level=3 size=22, connectedness=1.00
Graph level=2 size=357, connectedness=1.00
Graph level=1 size=14587, connectedness=1.00
Graph level=0 size=479590, connectedness=1.00
Leaf 4 has 4 layers
Leaf 4 has 368761 documents
Graph level=3 size=24, Fanout min=4, mean=6.58, max=10, meandelta=35736.18
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   4   5   5   6   7   8   8   9  10

Graph level=2 size=315, Fanout min=7, mean=17.43, max=32, meandelta=17337.72
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  13  14  15  16  18  20  22  25  32

Graph level=1 size=11163, Fanout min=4, mean=25.75, max=32, meandelta=12736.37
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  18  22  25  28  32  32  32  32  32

Graph level=0 size=368761, Fanout min=1, mean=25.33, max=64, meandelta=11929.12
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  30  37  51  64

Graph level=3 size=24, connectedness=1.00
Graph level=2 size=315, connectedness=1.00
Graph level=1 size=11163, connectedness=1.00
Graph level=0 size=368761, connectedness=1.00
Leaf 5 has 4 layers
Leaf 5 has 439110 documents
Graph level=3 size=23, Fanout min=3, mean=5.83, max=10, meandelta=39492.57
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   4   5   6   6   7   7   7  10

Graph level=2 size=338, Fanout min=7, mean=18.31, max=32, meandelta=17967.09
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  13  15  16  18  19  21  24  27  32

Graph level=1 size=13360, Fanout min=4, mean=25.70, max=32, meandelta=15268.53
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  18  22  25  28  32  32  32  32  32

Graph level=0 size=439110, Fanout min=1, mean=24.92, max=64, meandelta=14366.34
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  17  20  24  29  36  50  64

Graph level=3 size=23, connectedness=1.00
Graph level=2 size=338, connectedness=1.00
Graph level=1 size=13360, connectedness=1.00
Graph level=0 size=439110, connectedness=1.00
Leaf 6 has 4 layers
Leaf 6 has 367395 documents
Graph level=3 size=25, Fanout min=2, mean=6.32, max=12, meandelta=41479.09
%   0  10  20  30  40  50  60  70  80  90 100
    0   3   4   5   5   6   7   7   9  10  12

Graph level=2 size=348, Fanout min=6, mean=18.69, max=32, meandelta=16949.59
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  13  15  16  18  20  22  24  28  32

Graph level=1 size=11346, Fanout min=4, mean=25.97, max=32, meandelta=12684.20
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  19  22  25  29  32  32  32  32  32

Graph level=0 size=367395, Fanout min=1, mean=25.67, max=64, meandelta=11741.73
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  30  38  52  64

Graph level=3 size=25, connectedness=1.00
Graph level=2 size=348, connectedness=1.00
Graph level=1 size=11346, connectedness=1.00
Graph level=0 size=367395, connectedness=1.00
Leaf 7 has 4 layers
Leaf 7 has 259383 documents
Graph level=3 size=9, Fanout min=2, mean=3.56, max=5, meandelta=40041.53
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   3   3   4   4   4   5   5

Graph level=2 size=235, Fanout min=6, mean=16.89, max=32, meandelta=13246.42
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  13  15  16  18  19  21  25  32

Graph level=1 size=8048, Fanout min=4, mean=26.00, max=32, meandelta=8986.11
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  25  29  32  32  32  32  32

Graph level=0 size=259383, Fanout min=1, mean=26.41, max=64, meandelta=8153.81
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  22  26  31  39  53  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=235, connectedness=1.00
Graph level=1 size=8048, connectedness=1.00
Graph level=0 size=259383, connectedness=1.00
Leaf 8 has 4 layers
Leaf 8 has 263785 documents
Graph level=3 size=9, Fanout min=2, mean=2.89, max=5, meandelta=39654.77
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   2   3   3   3   4   5

Graph level=2 size=252, Fanout min=6, mean=17.34, max=32, meandelta=13083.44
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  12  14  15  16  18  20  22  25  32

Graph level=1 size=8225, Fanout min=5, mean=26.00, max=32, meandelta=9152.04
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  25  29  32  32  32  32  32

Graph level=0 size=263785, Fanout min=1, mean=26.02, max=64, meandelta=8413.45
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  18  22  25  30  38  52  64

Graph level=3 size=9, connectedness=1.00
Graph level=2 size=252, connectedness=1.00
Graph level=1 size=8225, connectedness=1.00
Graph level=0 size=263785, connectedness=1.00
Leaf 9 has 4 layers
Leaf 9 has 1094087 documents
Graph level=3 size=71, Fanout min=3, mean=9.44, max=18, meandelta=100930.94
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   8   8   9  10  11  12  14  18

Graph level=2 size=1024, Fanout min=7, mean=23.53, max=32, meandelta=42624.02
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  17  19  21  24  26  29  32  32  32

Graph level=1 size=33406, Fanout min=3, mean=25.95, max=32, meandelta=37667.42
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  19  22  25  29  32  32  32  32  32

Graph level=0 size=1094087, Fanout min=1, mean=25.59, max=64, meandelta=34711.75
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  30  38  54  64

Graph level=3 size=71, connectedness=1.00
Graph level=2 size=1024, connectedness=1.00
Graph level=1 size=33406, connectedness=1.00
Graph level=0 size=1094087, connectedness=1.00
Leaf 10 has 4 layers
Leaf 10 has 263980 documents
Graph level=3 size=23, Fanout min=2, mean=5.91, max=10, meandelta=34530.42
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   4   4   5   6   6   6   7   8  10

Graph level=2 size=264, Fanout min=4, mean=16.93, max=32, meandelta=13618.02
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  14  15  16  18  20  22  24  32

Graph level=1 size=8143, Fanout min=5, mean=26.00, max=32, meandelta=9165.86
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  25  29  32  32  32  32  32

Graph level=0 size=263980, Fanout min=1, mean=26.40, max=64, meandelta=8346.69
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  13  16  19  22  26  31  39  54  64

Graph level=3 size=23, connectedness=1.00
Graph level=2 size=264, connectedness=1.00
Graph level=1 size=8143, connectedness=1.00
Graph level=0 size=263980, connectedness=1.00
Leaf 11 has 4 layers
Leaf 11 has 940690 documents
Graph level=3 size=52, Fanout min=4, mean=8.50, max=18, meandelta=92723.06
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   6   6   7   8   9  10  11  12  18

Graph level=2 size=851, Fanout min=6, mean=22.99, max=32, meandelta=36973.89
%   0  10  20  30  40  50  60  70  80  90 100
    0  13  16  18  21  23  25  28  32  32  32

Graph level=1 size=28604, Fanout min=3, mean=26.09, max=32, meandelta=32247.92
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  19  22  26  30  32  32  32  32  32

Graph level=0 size=940690, Fanout min=1, mean=25.84, max=64, meandelta=29674.89
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  30  38  55  64

Graph level=3 size=52, connectedness=1.00
Graph level=2 size=851, connectedness=1.00
Graph level=1 size=28604, connectedness=1.00
Graph level=0 size=940690, connectedness=1.00
Leaf 12 has 4 layers
Leaf 12 has 168911 documents
Graph level=3 size=8, Fanout min=2, mean=3.25, max=6, meandelta=24276.65
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   2   2   3   3   3   3   5   6

Graph level=2 size=159, Fanout min=4, mean=13.98, max=32, meandelta=10102.41
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  10  11  12  13  15  16  17  20  32

Graph level=1 size=5201, Fanout min=3, mean=25.99, max=32, meandelta=5868.91
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  25  29  32  32  32  32  32

Graph level=0 size=168911, Fanout min=1, mean=27.21, max=64, meandelta=5224.18
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  23  27  32  40  55  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=159, connectedness=1.00
Graph level=1 size=5201, connectedness=1.00
Graph level=0 size=168911, connectedness=1.00
Leaf 13 has 4 layers
Leaf 13 has 941840 documents
Graph level=3 size=46, Fanout min=4, mean=7.13, max=13, meandelta=102595.91
%   0  10  20  30  40  50  60  70  80  90 100
    0   4   5   5   6   7   8   8   8  10  13

Graph level=2 size=853, Fanout min=7, mean=23.17, max=32, meandelta=37047.33
%   0  10  20  30  40  50  60  70  80  90 100
    0  14  16  19  21  23  25  29  32  32  32

Graph level=1 size=28754, Fanout min=2, mean=26.05, max=32, meandelta=32352.78
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  19  22  26  29  32  32  32  32  32

Graph level=0 size=941840, Fanout min=1, mean=26.05, max=64, meandelta=29614.48
%   0  10  20  30  40  50  60  70  80  90 100
    0   9  12  15  18  21  25  31  39  55  64

Graph level=3 size=46, connectedness=1.00
Graph level=2 size=853, connectedness=1.00
Graph level=1 size=28754, connectedness=1.00
Graph level=0 size=941840, connectedness=1.00
Leaf 14 has 4 layers
Leaf 14 has 162955 documents
Graph level=3 size=8, Fanout min=2, mean=4.00, max=6, meandelta=16850.97
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   2   3   4   4   4   4   4   5   6

Graph level=2 size=151, Fanout min=5, mean=14.05, max=27, meandelta=9727.81
%   0  10  20  30  40  50  60  70  80  90 100
    0   8  10  11  12  14  15  16  17  21  27

Graph level=1 size=5006, Fanout min=6, mean=26.10, max=32, meandelta=5667.00
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  25  29  32  32  32  32  32

Graph level=0 size=162955, Fanout min=1, mean=27.69, max=64, meandelta=4978.58
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  23  27  32  40  56  64

Graph level=3 size=8, connectedness=1.00
Graph level=2 size=151, connectedness=1.00
Graph level=1 size=5006, connectedness=1.00
Graph level=0 size=162955, connectedness=1.00
Leaf 15 has 4 layers
Leaf 15 has 62103 documents
Graph level=3 size=4, Fanout min=2, mean=2.00, max=2, meandelta=13163.50
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   2   2   2   2   2   2   2   2

Graph level=2 size=55, Fanout min=3, mean=8.98, max=17, meandelta=5370.53
%   0  10  20  30  40  50  60  70  80  90 100
    0   5   6   7   7   9   9  10  11  14  17

Graph level=1 size=1882, Fanout min=5, mean=25.22, max=32, meandelta=2219.28
%   0  10  20  30  40  50  60  70  80  90 100
    0  15  18  21  24  27  30  32  32  32  32

Graph level=0 size=62103, Fanout min=1, mean=28.83, max=64, meandelta=1866.79
%   0  10  20  30  40  50  60  70  80  90 100
    0  12  15  18  21  24  29  34  42  58  64

Graph level=3 size=4, connectedness=1.00
Graph level=2 size=55, connectedness=1.00
Graph level=1 size=1882, connectedness=1.00
Graph level=0 size=62103, connectedness=1.00
Leaf 16 has 4 layers
Leaf 16 has 86619 documents
Graph level=3 size=4, Fanout min=1, mean=2.00, max=3, meandelta=8159.13
%   0  10  20  30  40  50  60  70  80  90 100
    0   1   1   1   1   2   2   2   2   2   3

Graph level=2 size=82, Fanout min=5, mean=10.61, max=21, meandelta=6652.04
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   7   8   9  10  11  12  13  15  21

Graph level=1 size=2669, Fanout min=5, mean=25.69, max=32, meandelta=3054.10
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  19  22  24  28  31  32  32  32  32

Graph level=0 size=86619, Fanout min=1, mean=28.23, max=64, meandelta=2609.94
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  14  17  20  24  28  33  42  57  64

Graph level=3 size=4, connectedness=1.00
Graph level=2 size=82, connectedness=1.00
Graph level=1 size=2669, connectedness=1.00
Graph level=0 size=86619, connectedness=1.00
  took 0:35:52.095145 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=False, recall=0.934, cpu_time_ms=17.033, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='no', total_visited=68670, index_time_sec=1881.22, index_docs_per_sec=4252.56, force_merge_time_sec=0.0, index_num_segments=17, index_size_on_disk_mb=23937.53, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=23437.5, graph_level_conn_p_values={3: (4, {0: 0, 10: 1, 20: 1, 30: 1, 40: 1, 50: 2, 60: 2, 70: 2, 80: 2, 90: 2, 100: 3}), 2: (82, {0: 0, 10: 6, 20: 7, 30: 8, 40: 9, 50: 10, 60: 11, 70: 12, 80: 13, 90: 15, 100: 21}), 1: (2669, {0: 0, 10: 16, 20: 19, 30: 22, 40: 24, 50: 28, 60: 31, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (86619, {0: 0, 10: 11, 20: 14, 30: 17, 40: 20, 50: 24, 60: 28, 70: 33, 80: 42, 90: 57, 100: 64})}, combined_run_time=datetime.timedelta(seconds=2152, microseconds=95145))
  cmd: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-cp', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build:/l/util.nightly/build', '--add-modules', 'jdk.incubator.vector', '--enable-native-access=ALL-UNNAMED', 'knn.KnnGraphTester', '-maxConn', '32', '-dim', '768', '-docs', '/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', '-ndoc', '8000000', '-topK', '100', '-numIndexThreads', '8', '-beamWidthIndex', '100', '-search-and-stats', '/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', '-metric', 'mip', '-numMergeThread', '16', '-numMergeWorker', '48', '-forceMerge']
WARNING: Using incubator modules: jdk.incubator.vector
maxConn = 32
Vector Dimensions: 768
numDocs = 8000000
beamWidth = 100
similarity = MAXIMUM_INNER_PRODUCT
Index Path = knnIndices/cohere-wikipedia-docs-768d.vec-32-100-8000000.index
Seed = 963799899881014
May 12, 2025 2:26:38 PM org.apache.lucene.internal.vectorization.PanamaVectorizationProvider <init>
INFO: Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled
Force merge index in knnIndices/cohere-wikipedia-docs-768d.vec-32-100-8000000.index
Force merge done in 1508.50 sec
index has 1 segments: segments_3: _170(11.0.0):C8000000:[diagnostics={lucene.version=11.0.0, source=merge, os.arch=amd64, java.runtime.version=24.0.1, mergeFactor=17, java.vendor=Arch Linux, os=Linux, os.version=6.14.4-arch1-2, timestamp=1747074398861, mergeMaxNumSegments=1}]:[attributes={Lucene90StoredFieldsFormat.mode=BEST_SPEED}] :id=2vmx4249ncrurfpe7sfrijjl1
  _170: 23951.8 MB
encodingByteSize=4 origByteSize=4
realEncodingByteSize=4.0
index disk usage is 23951.84 MB
vector disk usage is 23437.50 MB
vector RAM usage is 23437.50 MB
  read pre-cached exact match vectors from cache file "nn--3v9kpw.bin"
path=/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec dim=768 vectorEncoding.byteSize=4
1500000 query vectors in queryPath "/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec"
searching 1000 query vectors; topK=100, fanout=100
completed 1000 searches in 3357 ms: 297 QPS CPU time=3287ms
checking results
SUMMARY: 0.837	3.287	8000000	100	100	32	100	no	6095	0.00	Infinity	1508.50	1	23951.84	1.00	post-filter	1.000	23437.500	23437.500	HNSW
Leaf 0 has 4 layers
Leaf 0 has 8000000 documents
Graph level=3 size=272, Fanout min=5, mean=16.79, max=32, meandelta=409182.38
%   0  10  20  30  40  50  60  70  80  90 100
    0  10  12  13  15  16  18  19  21  24  32

Graph level=2 size=7729, Fanout min=3, mean=26.39, max=32, meandelta=276704.59
%   0  10  20  30  40  50  60  70  80  90 100
    0  16  20  23  26  30  32  32  32  32  32

Graph level=1 size=247420, Fanout min=1, mean=23.56, max=32, meandelta=292293.59
%   0  10  20  30  40  50  60  70  80  90 100
    0  11  15  18  21  25  30  32  32  32  32

Graph level=0 size=8000000, Fanout min=1, mean=21.27, max=64, meandelta=286844.53
%   0  10  20  30  40  50  60  70  80  90 100
    0   6   8  11  13  16  20  25  32  47  64

Graph level=3 size=272, connectedness=1.00
Graph level=2 size=7729, connectedness=1.00
Graph level=1 size=247420, connectedness=1.00
Graph level=0 size=8000000, connectedness=1.00
  took 0:25:31.297531 to run KnnGraphTester
result: KNNResultV0(lucene_git_rev='92e0eb8f71e2eaad8c2d18890ed3e506bbfdc5b8', luceneutil_git_rev='d615d87d19ea5f3d9cfc4959046db8ba121a7371', index_vectors_file='/lucenedata/enwiki/cohere-wikipedia-docs-768d.vec', search_vectors_file='/lucenedata/enwiki/cohere-wikipedia-queries-768d.vec', vector_dims=768, do_force_merge=True, recall=0.837, cpu_time_ms=3.287, num_docs=8000000, top_k=100, fanout=100, max_conn=32, beam_width=100, quantize_desc='no', total_visited=6095, index_time_sec=0.0, index_docs_per_sec=inf, force_merge_time_sec=1508.5, index_num_segments=1, index_size_on_disk_mb=23951.84, selectivity=1.0, pre_post_filter='post-filter', vec_disk_mb=1.0, vec_ram_mb=23437.5, graph_level_conn_p_values={3: (272, {0: 0, 10: 10, 20: 12, 30: 13, 40: 15, 50: 16, 60: 18, 70: 19, 80: 21, 90: 24, 100: 32}), 2: (7729, {0: 0, 10: 16, 20: 20, 30: 23, 40: 26, 50: 30, 60: 32, 70: 32, 80: 32, 90: 32, 100: 32}), 1: (247420, {0: 0, 10: 11, 20: 15, 30: 18, 40: 21, 50: 25, 60: 30, 70: 32, 80: 32, 90: 32, 100: 32}), 0: (8000000, {0: 0, 10: 6, 20: 8, 30: 11, 40: 13, 50: 16, 60: 20, 70: 25, 80: 32, 90: 47, 100: 64})}, combined_run_time=datetime.timedelta(seconds=1531, microseconds=297531))
now remove KNN index knnIndices/cohere-wikipedia-docs-768d.vec-32-100-8000000.index
recall  latency(ms)     nDoc  topK  fanout  maxConn  beamWidth  quantized  index(s)  index_docs/s  force_merge(s)  num_segments  index_size(MB)  overSample  vec_disk(MB)  vec_RAM(MB)  indexType
 0.470       15.793  8000000   100     100       32        100     4 bits    600.65      13318.90            0.00            16        26945.53       1.000     26397.705     2960.205       HNSW
 0.464        2.959  8000000   100     100       32        100     4 bits      0.00      Infinity          624.18             1        26958.21       1.000     26397.705     2960.205       HNSW
 0.859       14.747  8000000   100     100       32        100     7 bits    853.96       9368.09            0.00            19        29802.96       1.000     29327.393     5889.893       HNSW
 0.793        2.693  8000000   100     100       32        100     7 bits      0.00      Infinity          696.07             1        29809.59       1.000     29327.393     5889.893       HNSW
 0.934       17.033  8000000   100     100       32        100         no   1881.22       4252.56            0.00            17        23937.53       1.000     23437.500    23437.500       HNSW
 0.837        3.287  8000000   100     100       32        100         no      0.00      Infinity         1508.50             1        23951.84       1.000     23437.500    23437.500       HNSW
saving all results to /l/logs.nightly/2025.05.12.11.33.23/knn_results.pk
done!  took 7104.5 seconds total
removing KNN indices dir /l/util.nightly/knnIndices
[2025-05-12 14:52:11.608625] now generate KNN nightly charts
got /l/logs.nightly/2024.12.31.22.04.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.01.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.02.18.05.16/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.03.18.05.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.04.21.03.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.05.18.05.01/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.06.18.04.55/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.07.18.05.00/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.08.18.04.50/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.09.18.04.50/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.10.18.04.51/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.11.18.04.57/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.12.18.04.48/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.13.18.05.16/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.14.18.04.53/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.15.18.05.16/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.16.18.04.58/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.17.18.04.57/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.18.18.05.31/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.19.18.04.50/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.20.18.04.52/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.21.18.04.51/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.22.18.04.50/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.23.18.04.54/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.24.18.04.51/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.25.18.04.51/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.26.18.04.54/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.27.18.04.52/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.28.18.04.55/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.29.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.30.18.04.58/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.01.31.18.04.58/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.01.18.04.54/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.02.18.05.04/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.03.18.04.56/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.04.18.05.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.05.18.04.55/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.06.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.07.18.05.03/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.08.18.05.01/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.09.18.05.04/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.10.18.05.18/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.11.18.04.54/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.12.18.05.00/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.13.18.05.07/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.14.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.15.18.04.54/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.16.18.05.30/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.17.18.05.08/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.18.18.05.08/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.19.18.05.06/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.20.18.05.01/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.21.18.04.56/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.22.18.05.01/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.23.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.24.18.05.09/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.25.18.05.25/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.26.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.02.27.18.05.02/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.01.19.39.06/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.02.18.05.12/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.04.18.05.07/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.06.08.39.09/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.07.18.05.03/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.08.09.51.30/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.09.11.51.56/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.10.18.05.00/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.11.18.04.37/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.12.18.05.25/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.13.18.04.56/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.14.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.15.18.05.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.16.18.04.58/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.17.18.05.09/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.18.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.19.18.04.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.20.18.05.06/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.21.18.05.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.22.18.05.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.23.18.05.02/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.24.18.05.19/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.25.18.05.06/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.26.18.05.14/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.27.18.05.01/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.28.18.05.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.29.18.05.03/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.30.18.05.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.03.31.18.05.08/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.01.18.05.33/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.02.18.05.10/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.03.18.05.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.04.18.05.11/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.05.18.05.10/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.06.18.05.09/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.07.18.05.39/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.08.18.04.48/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.09.18.05.06/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.10.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.12.15.30.13/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.13.06.22.27/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.13.21.13.14/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.14.18.05.20/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.15.11.55.47/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.16.18.05.19/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.17.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.18.18.05.13/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.19.18.05.12/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.20.18.05.09/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.21.18.05.43/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.22.18.05.18/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.23.18.05.16/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.24.18.05.45/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.25.18.05.13/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.26.18.05.15/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.27.18.05.07/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.04.28.18.05.12/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.01.10.59.59/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.02.18.05.28/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.03.18.05.22/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.04.18.05.05/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.11.09.27.14/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
got /l/logs.nightly/2025.05.12.11.33.23/knn_results.pk
desc='4 bits'
desc='4 bits.force_merge'
desc='7 bits'
desc='7 bits.force_merge'
desc='no'
desc='no.force_merge'
[2025-05-12 14:52:11.642716] build medium index (fast)
  /l/indices/wikimedium.trunk.nightly.Lucene103.nd27.625M: now create
    cd /l/trunk.nightly/lucene/benchmark
    log /l/logs.nightly/nightly.wikimedium.trunk.nightly.Lucene103.nd27.625M.log
    run: ['/usr/lib/jvm/java-24-openjdk/bin/java', '--add-modules', 'jdk.incubator.vector', '-Xmx32g', '-Xms32g', '-server', '-XX:+UseParallelGC', '-Djava.io.tmpdir=/l/tmp', '-classpath', '/l/trunk.nightly/lucene/core/build/libs/lucene-core-11.0.0-SNAPSHOT.jar:/l/trunk.nightly/lucene/sandbox/build/classes/java/main:/l/trunk.nightly/lucene/misc/build/classes/java/main:/l/trunk.nightly/lucene/facet/build/classes/java/main:/l/trunk.nightly/lucene/analysis/common/build/classes/java/main:/l/trunk.nightly/lucene/analysis/icu/build/classes/java/main:/l/trunk.nightly/lucene/queryparser/build/classes/java/main:/l/trunk.nightly/lucene/grouping/build/classes/java/main:/l/trunk.nightly/lucene/suggest/build/classes/java/main:/l/trunk.nightly/lucene/highlighter/build/classes/java/main:/l/trunk.nightly/lucene/codecs/build/classes/java/main:/l/trunk.nightly/lucene/queries/build/classes/java/main:/l/trunk.nightly/lucene/join/build/classes/java/main:/l/trunk.nightly/lucene/spatial3d/build/classes/java/main:/l/util.nightly/lib/HdrHistogram.jar:/l/util.nightly/src/main/build/classes/java/main:/l/util.nightly/build', '-XX:StartFlightRecording=dumponexit=true,maxsize=250M,settings=/l/util.nightly/src/python/profiling.jfc,filename=/l/logs.nightly/bench-index-nightly-wikimedium.trunk.nightly.Lucene103.nd27.625M.jfr', '-XX:+UnlockDiagnosticVMOptions', '-XX:+DebugNonSafepoints', 'perf.Indexer', '-dirImpl', 'MMapDirectory', '-indexPath', '/l/indices/wikimedium.trunk.nightly.Lucene103.nd27.625M', '-analyzer', 'StandardAnalyzerNoStopWords', '-lineDocsFile', '/l/data/enwiki-20110115-lines-1k-fixed-with-random-labels.bin', '-docCountLimit', '27625038', '-threadCount', '36', '-useCMS', '-ramBufferMB', '2048', '-maxBufferedDocs', '-1', '-postingsFormat', 'Lucene103', '-mergePolicy', 'TieredMergePolicy', '-idFieldPostingsFormat', 'Lucene103', '-idFieldPostingsFormat', 'Lucene103', '-hnswThreadsPerMerge', '1', '-hnswThreadPoolCount', '1'], cwd=/l/trunk.nightly/lucene/benchmark
run vmstat: /usr/sbin/vmstat --active --wide --timestamp --unit M 1 > /l/logs.nightly/nightly.vmstat.log 2>&1 &
Traceback (most recent call last):
  File "/l/util.nightly/src/python/nightlyBench.py", line 2078, in <module>
    run()
    ~~~^^
  File "/l/util.nightly/src/python/nightlyBench.py", line 601, in run
    medIndexPath, medIndexTime, medBytesIndexed, atClose, profilerMediumIndex, profilerMediumJFR = buildIndex(r, runLogDir, "medium index (fast)", fastIndexMedium, "fastIndexMediumDocs.log")
                                                                                                   ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/nightlyBench.py", line 150, in buildIndex
    indexPath, fullLogFile, profilerResults, jfrFile = r.makeIndex("nightly", index, profilerCount=50, profilerStackSize=JFR_STACK_SIZES)
                                                       ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/benchUtil.py", line 1059, in makeIndex
    run(cmd, fullLogFile, vmstatLogFile=vmstatLogFile, topLogFile=topLogFile)
    ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/benchUtil.py", line 873, in run
    topProcess = ps_head.PSTopN(10, topLogFile)
  File "/l/util.nightly/src/python/ps_head.py", line 39, in __init__
    raise RuntimeError(f"please remove log file {log_file_name} first")
RuntimeError: please remove log file /l/logs.nightly/nightly.top.log first
Traceback (most recent call last):
  File "/l/util.nightly/src/python/nightlyBench.py", line 2078, in <module>
    run()
    ~~~^^
  File "/l/util.nightly/src/python/nightlyBench.py", line 601, in run
    medIndexPath, medIndexTime, medBytesIndexed, atClose, profilerMediumIndex, profilerMediumJFR = buildIndex(r, runLogDir, "medium index (fast)", fastIndexMedium, "fastIndexMediumDocs.log")
                                                                                                   ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/nightlyBench.py", line 150, in buildIndex
    indexPath, fullLogFile, profilerResults, jfrFile = r.makeIndex("nightly", index, profilerCount=50, profilerStackSize=JFR_STACK_SIZES)
                                                       ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/benchUtil.py", line 1059, in makeIndex
    run(cmd, fullLogFile, vmstatLogFile=vmstatLogFile, topLogFile=topLogFile)
    ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/benchUtil.py", line 873, in run
    topProcess = ps_head.PSTopN(10, topLogFile)
  File "/l/util.nightly/src/python/ps_head.py", line 39, in __init__
    raise RuntimeError(f"please remove log file {log_file_name} first")
RuntimeError: please remove log file /l/logs.nightly/nightly.top.log first

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/l/util.nightly/src/python/nightlyBench.py", line 2085, in <module>
    sendEmail("mail@mikemccandless.com", "Nightly Lucene bench FAILED (%s)" % socket.gethostname(), "")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/l/util.nightly/src/python/nightlyBench.py", line 2071, in sendEmail
    p = Popen(["/usr/sbin/sendmail", "-t"], stdin=PIPE)
  File "/usr/lib/python3.13/subprocess.py", line 1039, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/subprocess.py", line 1854, in _execute_child
    self._posix_spawn(args, executable, env, restore_signals, close_fds,
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                      p2cread, p2cwrite,
                      ^^^^^^^^^^^^^^^^^^
                      c2pread, c2pwrite,
                      ^^^^^^^^^^^^^^^^^^
                      errread, errwrite)
                      ^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/subprocess.py", line 1798, in _posix_spawn
    self.pid = os.posix_spawn(executable, args, env, **kwargs)
               ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/usr/sbin/sendmail'
+ cp /l/logs.nightly/all.log /l/reports.nightly
