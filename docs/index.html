<html><head><title>Lucene nightly benchmarks</title><script type="text/javascript" src="dygraph-combined-dev.js"></script>
</head><body><h1>Lucene nightly benchmarks</h1>Each night, an <a href="https://code.google.com/a/apache-extras.org/p/luceneutil/source/browse/src/python/nightlyBench.py">automated Python tool</a> checks out the Lucene/Solr trunk source code and runs multiple benchmarks: indexing the entire <a href="http://en.wikipedia.org/wiki/Wikipedia:Database_download">Wikipedia English export</a> three times (with different settings / document sizes); running a near-real-time latency test; running a set of "hardish" auto-generated queries and tasks.  The tests take around 2.5 hours to run, and the results are verified against the previous run and then added to the graphs linked below.<p>The goal is to spot any long-term regressions (or, gains!) in Lucene's performance that might otherwise accidentally slip past the committers, hopefully avoiding the fate of the <a href="http://en.wikipedia.org/wiki/Boiling_frog">boiling frog</a>.</p><p>See more details in <a href="http://blog.mikemccandless.com/2011/04/catching-slowdowns-in-lucene.html">this blog post</a>.</p><p>See pretty flame charts from Java Flight Recorder profiling at <a href="https://blunders.io/lucene-bench">blunders.io</a>.</p><br><br><b>Indexing:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html">Indexing throughput</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="analyzers.html">Analyzers throughput</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="nrt.html">Near-real-time refresh latency</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#MedIndexTime">GB/hour for medium docs index</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#MedVectorsIndexTime">GB/hour for medium docs index with vectors</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#MedQuantizedVectorsIndexTime">GB/hour for medium docs index with int8 quantized vectors</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#BigIndexTime">GB/hour for big docs index</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#GCTimes">Indexing JIT/GC times</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="indexing.html#FixedIndexSize">Index disk usage</a><br><br><b>BooleanQuery:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndHighHigh.html">+high-freq +high-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndHighMed.html">+high-freq +medium-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrHighHigh.html">high-freq high-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrHighMed.html">high-freq medium-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndHighOrMedMed.html">+high-freq +(medium-freq medium-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndMedOrHighHigh.html">+medium-freq +(high-freq high-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Or2Terms2StopWords.html">Disjunction of 2 regular terms and 2 stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="And2Terms2StopWords.html">Conjunction of 2 regular terms and 2 stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrStopWords.html">Disjunction of 2 or more stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndStopWords.html">Conjunction of 2 or more stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Or3Terms.html">Disjunction of 3 terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="And3Terms.html">Conjunction of 3 terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrHighRare.html">Disjunction of a very frequent term and a very rare term</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrMany.html">Disjunction of many terms</a><br><br><b>CombinedFieldQuery:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedTerm.html">Combined high-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedOrHighMed.html">Combined OR high-freq medium-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedOrHighHigh.html">Combined OR high-freq high-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedAndHighMed.html">Combined AND high-freq medium-freq</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedAndHighHigh.html">Combined AND high-freq high-freq</a><br><br><b>DisjunctionMaxQuery to take the maximum score across the title and body fields:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="DismaxTerm.html">Term query</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="DismaxOrHighMed.html">Disjunctive query on a high-frequency term and a medium-frequency term</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="DismaxOrHighHigh.html">Disjunctive query on two high-frequency terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredDismaxTerm.html">Filtered term query</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredDismaxOrHighMed.html">Filtered disjunctive query on a high-frequency term and a medium-frequency term</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredDismaxOrHighHigh.html">Filtered disjunctive query on two high-frequency terms</a><br><br><b>Proximity queries:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Phrase.html">Exact phrase</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="SloppyPhrase.html">Sloppy (~4) phrase</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="SpanNear.html">Span near (~10)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="IntervalsOrdered.html">Ordered intervals (MAXWIDTH/10)</a><br><br><b>FuzzyQuery:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Fuzzy1.html">Edit distance 1</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Fuzzy2.html">Edit distance 2</a><br><br><b>Count:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountTerm.html">Count(Term)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountPhrase.html">Count(Phrase)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountAndHighHigh.html">Count(+high-freq +high-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountAndHighMed.html">Count(+high-freq +med-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountOrHighHigh.html">Count(high-freq high-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountOrHighMed.html">Count(high-freq med-freq)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountOrMany.html">Count(&lt;many terms&gt;)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountFilteredPhrase.html">Count(Filtered(Phrase))</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountFilteredOrHighHigh.html">Count(Filtered(high-freq high-freq))</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountFilteredOrHighMed.html">Count(Filtered(high-freq med-freq))</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountFilteredOrMany.html">Count(Filtered(&lt;many terms&gt;))</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CountFilteredIntNRQ.html">Count(Filtered numeric range query)</a><br><br><b>Vector Search:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="VectorSearch.html">VectorSearch (approximate KNN float 768-dimension vector search from word embeddings)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="PreFilteredVectorSearch.html">Likewise, with a pre-filter</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="PostFilteredVectorSearch.html">Same filter, but applied as a post-filter rather than a pre-filter</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="knnResults.html">Nightly charts for <a href='https://github.com/mikemccand/luceneutil/blob/main/src/main/knn/KnnGraphTester.java'><tt>KnnGraphTester</tt></a> on <a href='https://huggingface.co/datasets/Cohere/wikipedia-22-12-en-embeddings'>Cohere Wikipedia en corpus</a></a><br><br><b>Other queries:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Term.html">TermQuery</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Respell.html">Respell (DirectSpellChecker)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="PKLookup.html">Primary key lookup</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Wildcard.html">WildcardQuery</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Prefix3.html">PrefixQuery (3 leading characters)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="IntNRQ.html">Numeric range filtering on last-modified-datetime</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="IntSet.html">Numeric set filtering on last-modified-datetime</a><br><br><b>Filtered queries where the filter matches 5% of the index:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredTerm.html">Filtered term query</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredAndHighHigh.html">Filtered conjunctive query on two high-frequency terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredAndHighMed.html">Filtered conjunctive query on a high-frequency term and a medium-frequency term</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOrHighHigh.html">Filtered disjunctive query on two high-frequency terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOrHighMed.html">Filtered disjunctive query on a high-frequency term and a medium-frequency term</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredPhrase.html">Filtered phrase query</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOr2Terms2StopWords.html">Filtered disjunction of 2 regular terms and 2 stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredAnd2Terms2StopWords.html">Filtered conjunction of 2 regular terms and 2 stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOrStopWords.html">Filtered disjunction of 2 or more stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredAndStopWords.html">Filtered conjunction of 2 or more stop words</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOr3Terms.html">Filtered disjunction of 3 terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredAnd3Terms.html">Filtered conjunction of 3 terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredOrMany.html">Filtered disjunction of many terms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredPrefix3.html">Filtered prefix query on a prefix of 3 chars</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="FilteredIntNRQ.html">Filtered numeric range query</a><br><br><b>Faceting:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermDateFacets.html">Term query + date hierarchy</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseDateTaxoFacets.html">All dates hierarchy</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseDateSSDVFacets.html">All dates hierarchy (doc values)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseMonthTaxoFacets.html">All months</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseMonthSSDVFacets.html">All months (doc values)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseDayOfYearTaxoFacets.html">All dayOfYear</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseDayOfYearSSDVFacets.html">All dayOfYear (doc values)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="MedTermDayTaxoFacets.html">medium-freq-term +dayOfYear taxo facets</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="OrHighMedDayTaxoFacets.html">high-freq medium-freq +dayOfYear taxo facets</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndHighHighDayTaxoFacets.html">+high-freq +high-freq +dayOfYear taxo facets</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="AndHighMedDayTaxoFacets.html">+high-freq +medium-freq +dayOfYear taxo facets</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseRandomLabelTaxoFacets.html">Random labels chosen from each doc</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="BrowseRandomLabelSSDVFacets.html">Random labels chosen from each doc (doc values)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="nad_facet_benchmarks.html">NAD high cardinality faceting</a><br><br><b>Sorting (on TermQuery):</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermDTSort.html">Date/time (long, high cardinality)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermTitleSort.html">Title (string, high cardinality)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermMonthSort.html">Month (string, low cardinality)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermDayOfYearSort.html">Day of year (int, medium cardinality)</a><br><br><b>Grouping (on TermQuery):</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermGroup100.html">100 groups</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermGroup10K.html">10K groups</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermGroup1M.html">1M groups</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermBGroup1M.html">1M groups (two pass block grouping)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="TermBGroup1M1P.html">1M groups (single pass block grouping)</a><br><br><b>Others:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="stored_fields_benchmarks.html">Stored fields geonames benchmarks</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="search_gc_jit.html">GC/JIT metrics during search benchmarks</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="geobench.html">Geo spatial benchmarks</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="sparseResults.html">Sparse vs dense doc values performance on NYC taxi ride corpus</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="antcleantest.html">"gradle -p lucene test" and "gradle precommit" time in lucene</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="checkIndexTime.html">CheckIndex time</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="github_pr_counts.html">Lucene GitHub pull-request counts</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedHighHigh.html">CombinedFieldsQuery (OR, high freq, high freq term)</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="CombinedHighMed.html">CombinedFieldsQuery (OR, high freq, medium freq term)</a><br><br><br><em>[last updated: 2025-07-31 08:40:27.469405; send questions to <a href="mailto:lucene@mikemccandless.com">Mike McCandless</a>]</em></div></body></html>